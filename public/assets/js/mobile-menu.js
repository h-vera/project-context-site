(()=>{(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){let L=window.matchMedia("(min-width: 769px)").matches,a=document.querySelector(".mobile-menu-overlay");a||(a=document.createElement("div"),a.className="mobile-menu-overlay",document.body.appendChild(a));let t=document.querySelector(".mobile-menu-toggle"),n=document.querySelector(".nav-links"),s=document.body;if(!t||!n){console.warn("Mobile menu elements not found");return}let r=0;function d(){t.classList.contains("active")?o():v()}function v(){r=window.pageYOffset||document.documentElement.scrollTop,t.classList.add("active"),n.classList.add("active"),a.classList.add("active"),s.classList.add("menu-open"),s.style.position="fixed",s.style.width="100%",s.style.top=`-${r}px`,s.style.overflow="hidden",t.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false")}function o(){t.classList.contains("active")&&(t.classList.remove("active"),n.classList.remove("active"),a.classList.remove("active"),s.classList.remove("menu-open"),s.style.position="",s.style.width="",s.style.top="",s.style.overflow="",window.scrollTo(0,r),t.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"))}let l=!1;t.addEventListener("click",function(e){l||(e.preventDefault(),e.stopPropagation(),d(),l=!0,setTimeout(()=>{l=!1},300))}),t.addEventListener("touchend",function(e){l||(e.preventDefault(),e.stopPropagation(),d(),l=!0,setTimeout(()=>{l=!1},300))},{passive:!1}),a.addEventListener("click",o),a.addEventListener("touchend",function(e){e.preventDefault(),o()},{passive:!1}),n.querySelectorAll(".dropdown-toggle").forEach(e=>{e.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation(),this.parentElement.classList.toggle("active")})}),n.querySelectorAll("a:not(.dropdown-toggle)").forEach(e=>{e.addEventListener("click",function(i){let c=this.getAttribute("href");c&&c!=="#"&&!c.startsWith("#")&&o()})}),document.addEventListener("keydown",function(e){e.key==="Escape"&&t.classList.contains("active")&&o()});let u;if(window.addEventListener("resize",function(){clearTimeout(u),u=setTimeout(function(){window.innerWidth>768&&t.classList.contains("active")&&o()},250)}),window.addEventListener("orientationchange",function(){setTimeout(o,100)}),/iPhone|iPad|iPod/.test(navigator.userAgent)){let e=0;n.addEventListener("touchstart",function(i){e=i.touches[0].pageY},{passive:!0}),n.addEventListener("touchmove",function(i){let c=i.touches[0].pageY,f=n.scrollTop,p=n.scrollHeight,m=n.clientHeight,g=c>e&&f===0,h=c<e&&f+m>=p;(g||h)&&i.preventDefault()},{passive:!1}),document.addEventListener("touchstart",function(i){t.classList.contains("active")&&i.touches[0].clientX<20&&i.preventDefault()},{passive:!1})}t.setAttribute("aria-label","Toggle navigation menu"),t.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"),n.setAttribute("aria-label","Main navigation"),document.addEventListener("scroll",function(){t.classList.contains("active")&&window.scrollY>100},{passive:!0}),window.addEventListener("beforeunload",function(){o()}),document.addEventListener("visibilitychange",function(){document.hidden&&t.classList.contains("active")&&o()}),console.log("Mobile menu initialized successfully with iOS fixes")}),"classList"in document.createElement("_")||console.error("This browser does not support classList. Please update your browser.")})();})();
//# sourceMappingURL=mobile-menu.js.map
