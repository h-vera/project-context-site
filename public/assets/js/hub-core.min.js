var hub_core=(()=>{var u=Object.create;var c=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var p=(l,e)=>{for(var t in e)c(l,t,{get:e[t],enumerable:!0})},h=(l,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of g(e))!y.call(l,s)&&s!==t&&c(l,s,{get:()=>e[s],enumerable:!(a=f(e,s))||a.enumerable});return l};var b=(l,e,t)=>(t=l!=null?u(v(l)):{},h(e||!l||!l.__esModule?c(t,"default",{value:l,enumerable:!0}):t,l)),w=l=>h(c({},"__esModule",{value:!0}),l);var C={};p(C,{default:()=>k});class m{constructor(e={}){this.type=e.type||"characters",this.filterGender=e.filterGender||null,this.loader=null,this.currentBook=null,this.initialized=!1,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}async init(){if(!this.initialized)try{const{default:e}=await import("./character-loader.js");this.loader=new e({filterGender:this.filterGender}),await this.loader.initialize(),this.setupEventListeners(),this.animateStats(),this.loadFeaturedCharacters(),this.setupMobileMenu(),this.setupScrollEffects(),this.initialized=!0}catch(e){console.error("Failed to initialize hub:",e),this.showError("Failed to initialize. Please refresh the page.")}}setupEventListeners(){document.querySelectorAll(".main-tab-button").forEach(e=>{e.addEventListener("click",t=>this.handleMainTabClick(t))}),document.querySelectorAll(".sub-tab-button").forEach(e=>{e.addEventListener("click",t=>this.handleSubTabClick(t))}),document.querySelectorAll("tr[data-book]").forEach(e=>{e.addEventListener("click",t=>this.handleBookClick(t))}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>this.handleAnchorClick(t))})}handleMainTabClick(e){const t=e.currentTarget,a=t.dataset.section;document.querySelectorAll(".main-tab-button").forEach(i=>{i.classList.remove("active")}),t.classList.add("active"),document.querySelectorAll(".tab-content").forEach(i=>{i.classList.remove("active")});const s=document.getElementById(`${a}-content`);s&&s.classList.add("active")}handleSubTabClick(e){const t=e.currentTarget,a=t.dataset.category;t.closest(".sub-tabs-nav").querySelectorAll(".sub-tab-button").forEach(n=>{n.classList.remove("active")}),t.classList.add("active"),document.querySelectorAll(".sub-tab-content").forEach(n=>{n.classList.remove("active")});const i=document.getElementById(`${a}-category`);i&&i.classList.add("active")}async handleBookClick(e){const a=e.currentTarget.dataset.book;a&&(this.currentBook===a&&this.isLoading||(this.currentBook=a,await this.loadBookCharacters(a)))}handleAnchorClick(e){e.preventDefault();const t=document.querySelector(e.currentTarget.getAttribute("href"));if(t){const a=t.offsetTop-100;window.scrollTo({top:a,behavior:"smooth"})}}async loadBookCharacters(e){const t=document.getElementById("book-data-section"),a=document.getElementById("book-loading"),s=document.getElementById("book-data");if(!t||!a||!s){console.error("Required elements not found");return}t.style.display="block",a.style.display="flex",s.style.display="none",this.isLoading=!0;try{const i=await this.loader.loadBook(e);if(!i||!i.characters||i.characters.length===0){let n="No Characters Found",r="This book doesn't have any character profiles yet";this.filterGender==="female"?(n="No Women Recorded",r="This book does not contain any women profiles"):this.filterGender==="male"&&(n="No Men Recorded",r="This book does not contain any men profiles"),s.innerHTML=`
                    <div class="empty-state">
                        <div class="empty-state-icon">\u{1F4DA}</div>
                        <div class="empty-state-text">${n}</div>
                        <div class="empty-state-subtext">${r}</div>
                    </div>
                `}else this.renderCharacterCards(i,s);a.style.display="none",s.style.display="block",setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"nearest"})},100)}catch(i){console.error("Error loading book:",i),s.innerHTML=`
                <div class="empty-state">
                    <div class="empty-state-icon">\u26A0\uFE0F</div>
                    <div class="empty-state-text">Failed to Load Characters</div>
                    <div class="empty-state-subtext">Please try again or refresh the page</div>
                </div>
            `,a.style.display="none",s.style.display="block"}finally{this.isLoading=!1}}renderCharacterCards(e,t){const a=e.book?.name||"Book",s=e.book?.id||"book";let i="";if(this.filterGender==="female"){const n=e.characters.filter(r=>r.gender==="female");if(n.length===0)i=`
                    <div class="empty-state">
                        <div class="empty-state-icon">\u{1F4D6}</div>
                        <div class="empty-state-text">No Women in ${a}</div>
                        <div class="empty-state-subtext">This book does not contain any women profiles</div>
                    </div>
                `;else{const r=n.filter(o=>!o.tags?.includes("Unnamed")),d=n.filter(o=>o.tags?.includes("Unnamed"));i=`<h3 class="section-title">Women in ${a}</h3>`,r.length>0&&(i+=`
                        <div class="section-header">
                            <h4 class="section-title">Named Women</h4>
                            <p class="section-subtitle">${r.length} women with recorded names</p>
                        </div>
                        <div class="cards-grid">
                            ${r.map(o=>this.createCharacterCard(o,s)).join("")}
                        </div>
                    `),d.length>0&&(i+=`
                        <div class="section-header">
                            <h4 class="section-title">Unnamed Women</h4>
                            <p class="section-subtitle">${d.length} women identified by role or relationship</p>
                        </div>
                        <div class="cards-grid">
                            ${d.map(o=>this.createCharacterCard(o,s)).join("")}
                        </div>
                    `)}}else if(this.filterGender==="male"){const n=e.characters.filter(r=>r.gender==="male");i=`<h3 class="section-title">Men in ${a}</h3>`,n.length>0?i+=`
                    <div class="cards-grid">
                        ${n.map(r=>this.createCharacterCard(r,s)).join("")}
                    </div>
                `:i=`
                    <div class="empty-state">
                        <div class="empty-state-icon">\u{1F4D6}</div>
                        <div class="empty-state-text">No Men in ${a}</div>
                        <div class="empty-state-subtext">This book does not contain any men profiles</div>
                    </div>
                `}else{const n=e.characters.filter(o=>o.gender==="male"),r=e.characters.filter(o=>o.gender==="female"),d=e.characters.filter(o=>!o.gender||o.gender==="unknown");i=`<h3 class="section-title">${a} Characters</h3>`,n.length>0&&(i+=`
                    <div class="section-header">
                        <h4 class="section-title">Men</h4>
                        <p class="section-subtitle">${n.length} male character${n.length>1?"s":""}</p>
                    </div>
                    <div class="cards-grid">
                        ${n.map(o=>this.createCharacterCard(o,s)).join("")}
                    </div>
                `),r.length>0&&(i+=`
                    <div class="section-header">
                        <h4 class="section-title">Women</h4>
                        <p class="section-subtitle">${r.length} female character${r.length>1?"s":""}</p>
                    </div>
                    <div class="cards-grid">
                        ${r.map(o=>this.createCharacterCard(o,s)).join("")}
                    </div>
                `),d.length>0&&(i+=`
                    <div class="section-header">
                        <h4 class="section-title">Other Characters</h4>
                        <p class="section-subtitle">${d.length} character${d.length>1?"s":""}</p>
                    </div>
                    <div class="cards-grid">
                        ${d.map(o=>this.createCharacterCard(o,s)).join("")}
                    </div>
                `)}t.innerHTML=i,this.animateCardEntrance()}buildCharacterPath(e,t){return e.profilePath?e.profilePath:e.multiPage?`/studies/characters/${t}/${e.id}/${e.id}.html`:`/studies/characters/${t}/${e.id}.html`}createCharacterCard(e,t){const a=e.hebrew?`<span class="hebrew">${e.hebrew}</span>`:"",s=(e.tags||[]).map(o=>`<span class="tag ${this.getTagClass(o)}">${o}</span>`).join(""),i=Array.isArray(e.references)?e.references.join(", "):e.references||"",n=e.meaning?`${e.meaning} \u2022 ${i}`:i,r=this.buildCharacterPath(e,t),d=e.hasSong&&e.songPath?`<a href="${e.songPath}" class="song-link" title="View Song">
                <span>\u{1F3B5}</span> Song
            </a>`:"";return`
            <article class="study-card" style="opacity: 0;">
                <a href="${r}" class="study-card-link">
                    <div class="study-card-header">
                        <h4 class="study-card-title">
                            ${e.name} ${a}
                        </h4>
                        <div class="study-card-tags">${s}</div>
                    </div>
                    <div class="study-card-body">
                        <p class="study-card-meta">${n}</p>
                        <p class="study-card-desc">${e.summary||""}</p>
                    </div>
                    <div class="study-card-arrow">
                        <svg viewBox="0 0 24 24">
                            <path d="M9 5l7 7-7 7" stroke="currentColor" stroke-width="2" fill="none"/>
                        </svg>
                    </div>
                </a>
                ${d}
            </article>
        `}getTagClass(e){const t=e.toLowerCase();return t.includes("group")||t.includes("unnamed")?"group":t.includes("warning")||t.includes("antagonist")?"warning":""}animateCardEntrance(){document.querySelectorAll('.study-card[style*="opacity: 0"]').forEach((t,a)=>{setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)",t.style.transition="opacity 0.5s ease, transform 0.5s ease"},a*50)})}async loadFeaturedCharacters(){const e=document.getElementById("featured-grid");if(!e)return;let t=[];this.filterGender==="female"?t=[{book:"judges",id:"deborah",name:"Deborah",hebrew:"\u05D3\u05B0\u05BC\u05D1\u05D5\u05B9\u05E8\u05B8\u05D4",desc:"Prophet, judge, and military leader. The only female judge who led Israel to victory over Canaanite oppression.",meta:"Judges 4-5 \u2022 Multi-page Study",multiPage:!0},{book:"genesis",id:"sarah",name:"Sarah",hebrew:"\u05E9\u05B8\u05C2\u05E8\u05B8\u05D4",desc:"Mother of nations, wife of Abraham. Her story demonstrates faith through struggle with infertility and God's promise fulfillment.",meta:"Genesis 11-25 \u2022 Complete Profile",multiPage:!1},{book:"ruth",id:"ruth",name:"Ruth",hebrew:"\u05E8\u05D5\u05BC\u05EA",desc:"Moabite woman whose loyalty and faithfulness led to her becoming great-grandmother of King David.",meta:"Book of Ruth \u2022 Complete Profile",multiPage:!1},{book:"exodus",id:"miriam",name:"Miriam",hebrew:"\u05DE\u05B4\u05E8\u05B0\u05D9\u05B8\u05DD",desc:"Prophetess and sister of Moses who led women in worship after crossing the Red Sea.",meta:"Exodus \u2022 Complete Profile",multiPage:!1},{book:"genesis",id:"hagar",name:"Hagar",hebrew:"\u05D4\u05B8\u05D2\u05B8\u05E8",desc:"Egyptian servant who became mother of Ishmael. Her encounters with God reveal His compassion for the marginalized.",meta:"Genesis 16, 21 \u2022 Complete Profile",multiPage:!1},{book:"judges",id:"delilah",name:"Delilah",hebrew:"\u05D3\u05B0\u05BC\u05DC\u05B4\u05D9\u05DC\u05B8\u05D4",desc:"Philistine woman who betrayed Samson. Her story explores themes of deception, weakness, and divine sovereignty.",meta:"Judges 16 \u2022 Complete Profile",multiPage:!1}]:t=[{book:"genesis",id:"abraham",name:"Abraham",hebrew:"\u05D0\u05B7\u05D1\u05B0\u05E8\u05B8\u05D4\u05B8\u05DD",desc:"Father of faith, covenant recipient, and patriarch of Israel. His journey from Ur to Canaan exemplifies faith and obedience.",meta:"Genesis 11-25 \u2022 Multi-page Study",multiPage:!0},{book:"genesis",id:"sarah",name:"Sarah",hebrew:"\u05E9\u05B8\u05C2\u05E8\u05B8\u05D4",desc:"Mother of nations, wife of Abraham. Her story demonstrates faith through struggle with infertility and God's promise fulfillment.",meta:"Genesis 11-25 \u2022 Complete Profile",multiPage:!1},{book:"exodus",id:"moses",name:"Moses",hebrew:"\u05DE\u05B9\u05E9\u05B6\u05C1\u05D4",desc:"Prophet, lawgiver, and deliverer of Israel from Egypt. Central figure in the Exodus and covenant at Sinai.",meta:"Exodus-Deuteronomy \u2022 Multi-page Study",multiPage:!0},{book:"judges",id:"deborah",name:"Deborah",hebrew:"\u05D3\u05B0\u05BC\u05D1\u05D5\u05B9\u05E8\u05B8\u05D4",desc:"Prophet, judge, and military leader. The only female judge who led Israel to victory over Canaanite oppression.",meta:"Judges 4-5 \u2022 Multi-page Study",multiPage:!0},{book:"genesis",id:"hagar",name:"Hagar",hebrew:"\u05D4\u05B8\u05D2\u05B8\u05E8",desc:"Egyptian servant who became mother of Ishmael. Her encounters with God reveal His compassion for the marginalized.",meta:"Genesis 16, 21 \u2022 Complete Profile",multiPage:!1},{book:"judges",id:"delilah",name:"Delilah",hebrew:"\u05D3\u05B0\u05BC\u05DC\u05B4\u05D9\u05DC\u05B8\u05D4",desc:"Philistine woman who betrayed Samson. Her story explores themes of deception, weakness, and divine sovereignty.",meta:"Judges 16 \u2022 Complete Profile",multiPage:!1}];const a=t.map(s=>`
                <a href="${s.multiPage?`/studies/characters/${s.book}/${s.id}/${s.id}.html`:`/studies/characters/${s.book}/${s.id}.html`}" class="character-card">
                    <div class="character-header">
                        <div class="character-name">
                            ${s.name} 
                            <span class="character-hebrew">${s.hebrew}</span>
                        </div>
                    </div>
                    <div class="character-body">
                        <p class="character-desc">${s.desc}</p>
                        <div class="character-meta">${s.meta}</div>
                    </div>
                </a>
            `).join("");e.innerHTML=a}animateStats(){document.querySelectorAll("[data-target]").forEach(e=>{const t=parseInt(e.dataset.target);if(isNaN(t))return;const a=t/50;let s=0;const i=setInterval(()=>{s+=a,s>=t?(e.textContent=t+"+",clearInterval(i)):e.textContent=Math.floor(s)},30)})}setupMobileMenu(){const e=document.getElementById("mobileMenuToggle"),t=document.getElementById("navLinks");!e||!t||(e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active")}),document.addEventListener("click",a=>{a.target.closest("nav")||(e.classList.remove("active"),t.classList.remove("active"))}))}setupScrollEffects(){let e;window.addEventListener("scroll",()=>{e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{const t=document.getElementById("main-nav");t&&(window.scrollY>100?t.classList.add("scrolled"):t.classList.remove("scrolled"))})})}showError(e){const t=`
            <div class="empty-state">
                <div class="empty-state-icon">\u26A0\uFE0F</div>
                <div class="empty-state-text">Error</div>
                <div class="empty-state-subtext">${e}</div>
            </div>
        `,a=document.getElementById("book-data")||document.querySelector(".container");a?a.innerHTML=t:console.error(e)}}typeof window<"u"&&(window.HubCore=m);var k=m;return w(C);})();
//# sourceMappingURL=hub-core.min.js.map
