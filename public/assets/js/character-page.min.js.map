{
  "version": 3,
  "sources": ["../../../assets/js/character-page.js"],
  "sourcesContent": ["\n(function(){\n  const d=document;\n  // Utility: safe query helpers\n  const $ = (s, ctx=d) => ctx.querySelector(s);\n  const $$ = (s, ctx=d) => Array.from(ctx.querySelectorAll(s));\n  // Expose to sections that expect these helpers\n  window.__pcq = { $, $$ };\n})();\n\n// character-page.js \u2014 page utilities for character profiles\n\n// Reading progress indicator\n\n    window.addEventListener('scroll', () => {\n      const winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n      const scrolled = (winScroll / height) * 100;\n      const progressBar = document.querySelector('.reading-progress');\n      if (progressBar) {\n        progressBar.style.width = scrolled + '%';\n      }\n    });\n\n// Debounced scroll handler for nav and back-to-top\n\n    let scrollTimeout;\n    window.addEventListener('scroll', () => {\n      if (scrollTimeout) {\n        window.cancelAnimationFrame(scrollTimeout);\n      }\n      \n      scrollTimeout = window.requestAnimationFrame(() => {\n        const nav = document.querySelector('nav');\n        const backToTop = document.querySelector('.back-to-top');\n        \n        if (window.scrollY > 100) {\n          nav?.classList.add('scrolled');\n        } else {\n          nav?.classList.remove('scrolled');\n        }\n\n// Back to top button visibility\n\n        if (window.scrollY > 500) {\n          backToTop?.classList.add('visible');\n        } else {\n          backToTop?.classList.remove('visible');\n        }\n      });\n    });\n\n// Intersection Observer for section animations\n\n    const observerOptions = {\n      threshold: 0.1,\n      rootMargin: '0px 0px -50px 0px'\n    };\n\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          entry.target.classList.add('visible');\n          observer.unobserve(entry.target);\n        }\n      });\n    }, observerOptions);\n\n// Apply to all cards\n\n    document.querySelectorAll('.animate-on-scroll').forEach(card => {\n      observer.observe(card);\n    });\n\n// Timeline item animation\n\n    const timelineObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          entry.target.classList.add('loaded');\n          timelineObserver.unobserve(entry.target);\n        }\n      });\n    }, { rootMargin: '100px' });\n\n    document.querySelectorAll('.timeline-item').forEach(item => {\n      timelineObserver.observe(item);\n    });\n\n// Smooth scrolling for anchor links\n\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n      anchor.addEventListener('click', function (e) {\n        e.preventDefault();\n        const target = document.querySelector(this.getAttribute('href'));\n        if (target) {\n\n// Close mobile menu if open\n\n          document.querySelector('.mobile-menu-toggle')?.classList.remove('active');\n          document.querySelector('.nav-links')?.classList.remove('active');\n          document.querySelector('.mobile-menu-toggle')?.setAttribute('aria-expanded', 'false');\n\n// Scroll to target\n\n          const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - 100;\n          window.scrollTo({\n            top: targetPosition,\n            behavior: 'smooth'\n          });\n        }\n      });\n    });\n\n// Quick Navigation Sidebar\n\n    const quickNavItems = document.querySelectorAll('.quick-nav-item');\n    const sections = document.querySelectorAll('.theology-card[id], .animate-on-scroll[id]');\n\n// Click handler for quick nav\n\n    quickNavItems.forEach(item => {\n      item.addEventListener('click', () => {\n        const targetId = item.getAttribute('data-target');\n        const target = document.querySelector(targetId);\n        if (target) {\n          const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - 100;\n          window.scrollTo({\n            top: targetPosition,\n            behavior: 'smooth'\n          });\n        }\n      });\n    });\n\n// Highlight active section in quick nav\n\n    window.addEventListener('scroll', () => {\n      let current = '';\n      \n      sections.forEach(section => {\n        const sectionTop = section.offsetTop;\n        const sectionHeight = section.clientHeight;\n        if (window.pageYOffset >= (sectionTop - 200)) {\n          current = section.getAttribute('id');\n        }\n      });\n      \n      quickNavItems.forEach(item => {\n        item.classList.remove('active');\n        const target = item.getAttribute('data-target');\n        if (target === `#${current}`) {\n          item.classList.add('active');\n        }\n      });\n    });\n\n// Enhanced table scroll for mobile\n\n    const tables = document.querySelectorAll('table');\n    tables.forEach(table => {\n      if (!table.parentElement.classList.contains('table-wrapper')) {\n        const wrapper = document.createElement('div');\n        wrapper.classList.add('table-wrapper');\n        wrapper.style.overflowX = 'auto';\n        wrapper.style.webkitOverflowScrolling = 'touch';\n        table.parentNode.insertBefore(wrapper, table);\n        wrapper.appendChild(table);\n      }\n    });\n\n// Performance optimization - Debounce resize events\n\n    let resizeTimeout;\n    window.addEventListener('resize', () => {\n      if (resizeTimeout) {\n        clearTimeout(resizeTimeout);\n      }\n      resizeTimeout = setTimeout(() => {\n\n// Re-check mobile menu state\n\n        if (window.innerWidth > 768) {\n          document.querySelector('.mobile-menu-toggle')?.classList.remove('active');\n          document.querySelector('.nav-links')?.classList.remove('active');\n          document.querySelector('.mobile-menu-toggle')?.setAttribute('aria-expanded', 'false');\n        }\n      }, 250);\n    });\n\n// Print optimization\n\n    window.addEventListener('beforeprint', () => {\n\n// Expand all sections for printing\n\n      document.querySelectorAll('.animate-on-scroll').forEach(section => {\n        section.classList.add('visible');\n      });\n      document.querySelectorAll('.timeline-item').forEach(item => {\n        item.classList.add('loaded');\n      });\n\n// Expand bibliography if collapsed\n\n      const bibliography = document.querySelector('.bibliography-section');\n      if (bibliography) {\n        bibliography.setAttribute('open', 'true');\n      }\n    });\n\n// Bibliography expand/collapse smooth animation\n\n    const bibliographyDetails = document.querySelector('.bibliography-section');\n    if (bibliographyDetails) {\n      bibliographyDetails.addEventListener('toggle', (e) => {\n        const indicator = bibliographyDetails.querySelector('.expand-indicator');\n        if (indicator) {\n          if (bibliographyDetails.open) {\n            indicator.style.transform = 'rotate(180deg)';\n          } else {\n            indicator.style.transform = 'rotate(0deg)';\n          }\n        }\n      });\n    }\n  "],
  "mappings": "0BACC,UAAU,CACT,MAAMA,EAAE,SAEFC,EAAI,CAACC,EAAGC,EAAIH,IAAMG,EAAI,cAAcD,CAAC,EACrCE,EAAK,CAACF,EAAGC,EAAIH,IAAM,MAAM,KAAKG,EAAI,iBAAiBD,CAAC,CAAC,EAE3D,OAAO,MAAQ,CAAE,EAAAD,EAAG,GAAAG,CAAG,CACzB,GAAG,EAMC,OAAO,iBAAiB,SAAU,IAAM,CACtC,MAAMC,EAAY,SAAS,KAAK,WAAa,SAAS,gBAAgB,UAChEC,EAAS,SAAS,gBAAgB,aAAe,SAAS,gBAAgB,aAC1EC,EAAYF,EAAYC,EAAU,IAClCE,EAAc,SAAS,cAAc,mBAAmB,EAC1DA,IACFA,EAAY,MAAM,MAAQD,EAAW,IAEzC,CAAC,EAID,IAAIE,EACJ,OAAO,iBAAiB,SAAU,IAAM,CAClCA,GACF,OAAO,qBAAqBA,CAAa,EAG3CA,EAAgB,OAAO,sBAAsB,IAAM,CACjD,MAAMC,EAAM,SAAS,cAAc,KAAK,EAClCC,EAAY,SAAS,cAAc,cAAc,EAEnD,OAAO,QAAU,IACnBD,GAAK,UAAU,IAAI,UAAU,EAE7BA,GAAK,UAAU,OAAO,UAAU,EAK9B,OAAO,QAAU,IACnBC,GAAW,UAAU,IAAI,SAAS,EAElCA,GAAW,UAAU,OAAO,SAAS,CAEzC,CAAC,CACH,CAAC,EAID,MAAMC,EAAkB,CACtB,UAAW,GACX,WAAY,mBACd,EAEMC,EAAW,IAAI,qBAAsBC,GAAY,CACrDA,EAAQ,QAAQC,GAAS,CACnBA,EAAM,iBACRA,EAAM,OAAO,UAAU,IAAI,SAAS,EACpCF,EAAS,UAAUE,EAAM,MAAM,EAEnC,CAAC,CACH,EAAGH,CAAe,EAIlB,SAAS,iBAAiB,oBAAoB,EAAE,QAAQI,GAAQ,CAC9DH,EAAS,QAAQG,CAAI,CACvB,CAAC,EAID,MAAMC,EAAmB,IAAI,qBAAsBH,GAAY,CAC7DA,EAAQ,QAAQC,GAAS,CACnBA,EAAM,iBACRA,EAAM,OAAO,UAAU,IAAI,QAAQ,EACnCE,EAAiB,UAAUF,EAAM,MAAM,EAE3C,CAAC,CACH,EAAG,CAAE,WAAY,OAAQ,CAAC,EAE1B,SAAS,iBAAiB,gBAAgB,EAAE,QAAQG,GAAQ,CAC1DD,EAAiB,QAAQC,CAAI,CAC/B,CAAC,EAID,SAAS,iBAAiB,cAAc,EAAE,QAAQC,GAAU,CAC1DA,EAAO,iBAAiB,QAAS,SAAU,EAAG,CAC5C,EAAE,eAAe,EACjB,MAAMC,EAAS,SAAS,cAAc,KAAK,aAAa,MAAM,CAAC,EAC/D,GAAIA,EAAQ,CAIV,SAAS,cAAc,qBAAqB,GAAG,UAAU,OAAO,QAAQ,EACxE,SAAS,cAAc,YAAY,GAAG,UAAU,OAAO,QAAQ,EAC/D,SAAS,cAAc,qBAAqB,GAAG,aAAa,gBAAiB,OAAO,EAIpF,MAAMC,EAAiBD,EAAO,sBAAsB,EAAE,IAAM,OAAO,YAAc,IACjF,OAAO,SAAS,CACd,IAAKC,EACL,SAAU,QACZ,CAAC,CACH,CACF,CAAC,CACH,CAAC,EAID,MAAMC,EAAgB,SAAS,iBAAiB,iBAAiB,EAC3DC,EAAW,SAAS,iBAAiB,4CAA4C,EAIvFD,EAAc,QAAQJ,GAAQ,CAC5BA,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAMM,EAAWN,EAAK,aAAa,aAAa,EAC1CE,EAAS,SAAS,cAAcI,CAAQ,EAC9C,GAAIJ,EAAQ,CACV,MAAMC,EAAiBD,EAAO,sBAAsB,EAAE,IAAM,OAAO,YAAc,IACjF,OAAO,SAAS,CACd,IAAKC,EACL,SAAU,QACZ,CAAC,CACH,CACF,CAAC,CACH,CAAC,EAID,OAAO,iBAAiB,SAAU,IAAM,CACtC,IAAII,EAAU,GAEdF,EAAS,QAAQG,GAAW,CAC1B,MAAMC,EAAaD,EAAQ,UACrBE,EAAgBF,EAAQ,aAC1B,OAAO,aAAgBC,EAAa,MACtCF,EAAUC,EAAQ,aAAa,IAAI,EAEvC,CAAC,EAEDJ,EAAc,QAAQJ,GAAQ,CAC5BA,EAAK,UAAU,OAAO,QAAQ,EACfA,EAAK,aAAa,aAAa,IAC/B,IAAIO,CAAO,IACxBP,EAAK,UAAU,IAAI,QAAQ,CAE/B,CAAC,CACH,CAAC,EAID,MAAMW,EAAS,SAAS,iBAAiB,OAAO,EAChDA,EAAO,QAAQC,GAAS,CACtB,GAAI,CAACA,EAAM,cAAc,UAAU,SAAS,eAAe,EAAG,CAC5D,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,eAAe,EACrCA,EAAQ,MAAM,UAAY,OAC1BA,EAAQ,MAAM,wBAA0B,QACxCD,EAAM,WAAW,aAAaC,EAASD,CAAK,EAC5CC,EAAQ,YAAYD,CAAK,CAC3B,CACF,CAAC,EAID,IAAIE,EACJ,OAAO,iBAAiB,SAAU,IAAM,CAClCA,GACF,aAAaA,CAAa,EAE5BA,EAAgB,WAAW,IAAM,CAI3B,OAAO,WAAa,MACtB,SAAS,cAAc,qBAAqB,GAAG,UAAU,OAAO,QAAQ,EACxE,SAAS,cAAc,YAAY,GAAG,UAAU,OAAO,QAAQ,EAC/D,SAAS,cAAc,qBAAqB,GAAG,aAAa,gBAAiB,OAAO,EAExF,EAAG,GAAG,CACR,CAAC,EAID,OAAO,iBAAiB,cAAe,IAAM,CAI3C,SAAS,iBAAiB,oBAAoB,EAAE,QAAQN,GAAW,CACjEA,EAAQ,UAAU,IAAI,SAAS,CACjC,CAAC,EACD,SAAS,iBAAiB,gBAAgB,EAAE,QAAQR,GAAQ,CAC1DA,EAAK,UAAU,IAAI,QAAQ,CAC7B,CAAC,EAID,MAAMe,EAAe,SAAS,cAAc,uBAAuB,EAC/DA,GACFA,EAAa,aAAa,OAAQ,MAAM,CAE5C,CAAC,EAID,MAAMC,EAAsB,SAAS,cAAc,uBAAuB,EACtEA,GACFA,EAAoB,iBAAiB,SAAWC,GAAM,CACpD,MAAMC,EAAYF,EAAoB,cAAc,mBAAmB,EACnEE,IACEF,EAAoB,KACtBE,EAAU,MAAM,UAAY,iBAE5BA,EAAU,MAAM,UAAY,eAGlC,CAAC",
  "names": ["d", "$", "s", "ctx", "$$", "winScroll", "height", "scrolled", "progressBar", "scrollTimeout", "nav", "backToTop", "observerOptions", "observer", "entries", "entry", "card", "timelineObserver", "item", "anchor", "target", "targetPosition", "quickNavItems", "sections", "targetId", "current", "section", "sectionTop", "sectionHeight", "tables", "table", "wrapper", "resizeTimeout", "bibliography", "bibliographyDetails", "e", "indicator"]
}
