var mobile_menu=(()=>{(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const u=window.matchMedia("(min-width: 769px)").matches;let s=document.querySelector(".mobile-menu-overlay");s||(s=document.createElement("div"),s.className="mobile-menu-overlay",document.body.appendChild(s));const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".nav-links"),i=document.body;if(!e||!t){console.warn("Mobile menu elements not found");return}let a=0;function r(){e.classList.contains("active")?o():f()}function f(){a=window.pageYOffset||document.documentElement.scrollTop,e.classList.add("active"),t.classList.add("active"),s.classList.add("active"),i.classList.add("menu-open"),i.style.position="fixed",i.style.width="100%",i.style.top=`-${a}px`,i.style.overflow="hidden",e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false")}function o(){e.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),s.classList.remove("active"),i.classList.remove("menu-open"),i.style.position="",i.style.width="",i.style.top="",i.style.overflow="",window.scrollTo(0,a),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"))}let l=!1;e.addEventListener("click",function(n){l||(n.preventDefault(),n.stopPropagation(),r(),l=!0,setTimeout(()=>{l=!1},300))}),e.addEventListener("touchend",function(n){l||(n.preventDefault(),n.stopPropagation(),r(),l=!0,setTimeout(()=>{l=!1},300))},{passive:!1}),s.addEventListener("click",o),s.addEventListener("touchend",function(n){n.preventDefault(),o()},{passive:!1}),t.querySelectorAll(".dropdown-toggle").forEach(n=>{n.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),this.parentElement.classList.toggle("active")})}),t.querySelectorAll("a:not(.dropdown-toggle)").forEach(n=>{n.addEventListener("click",function(c){const d=this.getAttribute("href");d&&d!=="#"&&!d.startsWith("#")&&o()})}),document.addEventListener("keydown",function(n){n.key==="Escape"&&e.classList.contains("active")&&o()});let v;if(window.addEventListener("resize",function(){clearTimeout(v),v=setTimeout(function(){window.innerWidth>768&&e.classList.contains("active")&&o()},250)}),window.addEventListener("orientationchange",function(){setTimeout(o,100)}),/iPhone|iPad|iPod/.test(navigator.userAgent)){let n=0;t.addEventListener("touchstart",function(c){n=c.touches[0].pageY},{passive:!0}),t.addEventListener("touchmove",function(c){const d=c.touches[0].pageY,p=t.scrollTop,m=t.scrollHeight,w=t.clientHeight,h=d>n&&p===0,L=d<n&&p+w>=m;(h||L)&&c.preventDefault()},{passive:!1}),document.addEventListener("touchstart",function(c){e.classList.contains("active")&&c.touches[0].clientX<20&&c.preventDefault()},{passive:!1})}e.setAttribute("aria-label","Toggle navigation menu"),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.setAttribute("aria-label","Main navigation"),document.addEventListener("scroll",function(){e.classList.contains("active")&&window.scrollY>100},{passive:!0}),window.addEventListener("beforeunload",function(){o()}),document.addEventListener("visibilitychange",function(){document.hidden&&e.classList.contains("active")&&o()}),console.log("Mobile menu initialized successfully with iOS fixes")}),"classList"in document.createElement("_")||console.error("This browser does not support classList. Please update your browser."),(()=>{const u=document.querySelector("#menuToggle, .menu-toggle"),s=document.querySelector("#mobileNav, .mobile-nav, .nav-drawer");function e(){u&&u.classList.remove("active"),s&&s.classList.remove("open","active","visible"),document.querySelectorAll(".nav-links .dropdown.open").forEach(a=>{a.classList.remove("open"),a.querySelector(".dropdown-toggle")?.setAttribute("aria-expanded","false");const r=a.querySelector(".dropdown-content");r&&(r.style.display="")})}document.querySelectorAll(".nav-links .dropdown > .dropdown-toggle").forEach(a=>{a.addEventListener("click",r=>{if(window.matchMedia("(max-width: 768px)").matches){r.preventDefault();const f=a.closest(".dropdown"),o=f?.querySelector(".dropdown-content"),l=f?.classList.toggle("open");l!=null&&a.setAttribute("aria-expanded",l?"true":"false"),o&&(o.style.display=l?"block":"none")}})});const t=window.matchMedia("(max-width: 768px)"),i=()=>{t.matches||e()};i(),t.addEventListener?t.addEventListener("change",i):t.addListener(i),document.addEventListener("scroll",()=>{},{passive:!0}),window.addEventListener("beforeunload",()=>{e()}),document.addEventListener("visibilitychange",()=>{document.hidden&&u?.classList.contains("active")&&e()}),console.log("Mobile menu initialized successfully with iOS fixes & resize resets"),"classList"in document.createElement("_")||console.error("This browser lacks classList support. Please update your browser.")})()})();})();
//# sourceMappingURL=mobile-menu.min.js.map
