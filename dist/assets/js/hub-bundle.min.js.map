{
  "version": 3,
  "sources": ["../../../assets/js/character-loader.js", "../../../assets/js/hub-core.js", "../../../assets/js/hub-common.js", "../../../assets/js/mobile-menu.js", "../../../temp-hub-bundle-entry.js"],
  "sourcesContent": ["/**\n * Character Loader Module\n * Path: /assets/js/character-loader.js\n * Purpose: Loads and manages biblical character data\n * Version: 2.0.0 - Using embedded data with external fetch fallback\n */\n\nclass CharacterLoader {\n    constructor(options = {}) {\n        this.baseUrl = options.baseUrl || '';\n        this.filterGender = options.filterGender || null;\n        this.manifest = null;\n        this.cache = new Map();\n        this.initialized = false;\n        // Embed the actual data directly\n        this.embeddedData = this.getEmbeddedData();\n    }\n\n    /**\n     * Initialize the loader and get manifest\n     */\n    async initialize() {\n        if (this.initialized) return this.manifest;\n        \n        try {\n            // Try to load manifest\n            const manifestUrl = `${this.baseUrl}/assets/data/manifest.json`;\n            const response = await fetch(manifestUrl);\n            \n            if (response.ok) {\n                this.manifest = await response.json();\n                console.log('\u2713 Loaded manifest from server');\n            } else {\n                this.manifest = this.getDefaultManifest();\n                console.log('\u2713 Using default manifest');\n            }\n            \n            this.initialized = true;\n            return this.manifest;\n            \n        } catch (error) {\n            console.warn('Error loading manifest, using default:', error.message);\n            this.manifest = this.getDefaultManifest();\n            this.initialized = true;\n            return this.manifest;\n        }\n    }\n\n    /**\n     * Get default manifest structure\n     */\n    getDefaultManifest() {\n        return {\n            version: \"1.0\",\n            books: {\n                tanakh: {\n                    torah: [\"genesis\", \"exodus\", \"leviticus\", \"numbers\", \"deuteronomy\"],\n                    neviimFormer: [\"joshua\", \"judges\", \"samuel\", \"kings\"],\n                    neviimLatter: [\"isaiah\", \"jeremiah\", \"ezekiel\"],\n                    ketuvim: [\"psalms\", \"proverbs\", \"job\", \"ruth\", \"esther\"]\n                }\n            }\n        };\n    }\n\n    /**\n     * Load character data for a specific book\n     */\n    async loadBook(bookId) {\n        // Normalize book IDs (e.g., \"samuel1\" -> \"samuel\", \"kings1\" -> \"kings\")\n        const normalizedId = bookId.replace(/[12]$/, '');\n        \n        console.log(`LoadBook called for: ${bookId}, normalized to: ${normalizedId}`);\n        \n        // Check cache first\n        if (this.cache.has(normalizedId)) {\n            console.log(`Returning ${normalizedId} from cache`);\n            const data = this.filterData(this.cache.get(normalizedId));\n            \n            // Force display update\n            this.forceDisplayUpdate();\n            return data;\n        }\n\n        // First check embedded data\n        if (this.embeddedData[normalizedId]) {\n            const data = this.embeddedData[normalizedId];\n            this.cache.set(normalizedId, data);\n            console.log(`\u2713 Loaded ${normalizedId} from embedded data with ${data.characters?.length || 0} characters`);\n            \n            // Force display update\n            this.forceDisplayUpdate();\n            return this.filterData(data);\n        }\n\n        // If not in embedded data, try to fetch\n        try {\n            const url = `${this.baseUrl}/assets/data/books/${normalizedId}.json`;\n            console.log(`Attempting to fetch: ${url}`);\n            \n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}`);\n            }\n\n            const data = await response.json();\n            this.cache.set(normalizedId, data);\n            console.log(`\u2713 Loaded ${normalizedId} from server with ${data.characters?.length || 0} characters`);\n            return this.filterData(data);\n            \n        } catch (error) {\n            console.warn(`Could not load ${normalizedId} from server: ${error.message}`);\n            // Return empty structure\n            return {\n                book: {\n                    id: normalizedId,\n                    name: this.getBookName(normalizedId),\n                    characterCount: 0\n                },\n                characters: []\n            };\n        }\n    }\n\n    /**\n     * Get friendly book name\n     */\n    getBookName(bookId) {\n        const names = {\n            'genesis': 'Genesis',\n            'exodus': 'Exodus',\n            'leviticus': 'Leviticus',\n            'numbers': 'Numbers',\n            'deuteronomy': 'Deuteronomy',\n            'joshua': 'Joshua',\n            'judges': 'Judges',\n            'ruth': 'Ruth',\n            'samuel': '1-2 Samuel',\n            'kings': '1-2 Kings',\n            'chronicles': '1-2 Chronicles',\n            'ezra': 'Ezra',\n            'nehemiah': 'Nehemiah',\n            'esther': 'Esther',\n            'job': 'Job',\n            'psalms': 'Psalms',\n            'proverbs': 'Proverbs',\n            'ecclesiastes': 'Ecclesiastes',\n            'song-of-songs': 'Song of Songs',\n            'isaiah': 'Isaiah',\n            'jeremiah': 'Jeremiah',\n            'lamentations': 'Lamentations',\n            'ezekiel': 'Ezekiel',\n            'daniel': 'Daniel'\n        };\n        return names[bookId] || bookId.charAt(0).toUpperCase() + bookId.slice(1);\n    }\n\n    /**\n     * Filter data based on gender if specified\n     */\n    filterData(data) {\n        if (!this.filterGender || !data.characters) {\n            return data;\n        }\n\n        return {\n            ...data,\n            characters: data.characters.filter(char => \n                char.gender === this.filterGender\n            )\n        };\n    }\n\n    /**\n     * Search characters by query\n     */\n    async searchCharacters(query) {\n        const allCharacters = await this.getAllCharacters();\n        const lowerQuery = query.toLowerCase();\n        \n        return allCharacters.filter(char => {\n            return char.name?.toLowerCase().includes(lowerQuery) ||\n                   char.hebrew?.includes(query) ||\n                   char.meaning?.toLowerCase().includes(lowerQuery) ||\n                   char.summary?.toLowerCase().includes(lowerQuery) ||\n                   char.tags?.some(tag => tag.toLowerCase().includes(lowerQuery));\n        });\n    }\n\n    /**\n     * Get all characters across all books\n     */\n    async getAllCharacters() {\n        const allCharacters = [];\n        \n        // Get all book IDs from embedded data\n        const bookIds = Object.keys(this.embeddedData);\n        \n        for (const bookId of bookIds) {\n            const bookData = await this.loadBook(bookId);\n            if (bookData.characters) {\n                allCharacters.push(...bookData.characters.map(char => ({\n                    ...char,\n                    book: bookData.book\n                })));\n            }\n        }\n        \n        return allCharacters;\n    }\n\n    /**\n     * Get embedded character data\n     * This is the actual data from your JSON files\n     */\n    getEmbeddedData() {\n        return {\n            // 1-2 Kings data (matching expected structure)\n            kings: {\n                book: {\n                    id: \"kings\",\n                    name: \"1-2 Kings\",\n                    hebrew: \"\u05DE\u05B0\u05DC\u05B8\u05DB\u05B4\u05D9\u05DD\",\n                    hebrewTranslit: \"M'lakhim\"\n                },\n                characters: [\n                    {\n                        id: \"bathsheba-kings\",\n                        name: \"Bathsheba\",\n                        hebrew: \"\u05D1\u05B7\u05BC\u05EA\u05BE\u05E9\u05B6\u05C1\u05D1\u05B7\u05E2\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/kings/bathsheba.html\",\n                        references: [\"1 Kings 1:11-31\", \"1 Kings 2:13-25\"],\n                        meaning: \"Daughter of oath/seven\",\n                        summary: \"David's wife, Solomon's mother, secures throne for her son\",\n                        tags: [\"Queen Mother\", \"Influence\", \"Succession\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"jezebel\",\n                        name: \"Jezebel\",\n                        hebrew: \"\u05D0\u05B4\u05D9\u05D6\u05B6\u05D1\u05B6\u05DC\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/kings/jezebel.html\",\n                        references: [\"1 Kings 16:31\", \"1 Kings 18:4-19\", \"1 Kings 19:1-2\", \"1 Kings 21:1-25\", \"2 Kings 9:7-37\"],\n                        meaning: \"Where is the prince?\",\n                        summary: \"Ahab's wife, promoted Baal worship, enemy of Elijah, killed by Jehu's command\",\n                        tags: [\"Queen\", \"Idolatry\", \"Persecution\", \"Power\", \"Judgment\"],\n                        hasProfile: true,\n                        multiPage: true\n                    },\n                    {\n                        id: \"widow-zarephath\",\n                        name: \"Widow of Zarephath\",\n                        hebrew: \"\u05D0\u05B7\u05DC\u05B0\u05DE\u05B8\u05E0\u05B8\u05D4 \u05E6\u05B8\u05E8\u05B0\u05E4\u05B7\u05EA\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/kings/widow-zarephath.html\",\n                        references: [\"1 Kings 17:7-24\"],\n                        meaning: \"Widow of refining place\",\n                        summary: \"Fed Elijah during famine, son raised from dead\",\n                        tags: [\"Widow\", \"Faith\", \"Miracle\", \"Hospitality\", \"Resurrection\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"athaliah\",\n                        name: \"Athaliah\",\n                        hebrew: \"\u05E2\u05B2\u05EA\u05B7\u05DC\u05B0\u05D9\u05B8\u05D4\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/kings/athaliah.html\",\n                        references: [\"2 Kings 8:18, 26\", \"2 Kings 11:1-20\"],\n                        meaning: \"Yahweh has shown his might\",\n                        summary: \"Daughter of Ahab/Jezebel, usurper queen of Judah, killed royal seed\",\n                        tags: [\"Queen\", \"Usurper\", \"Violence\", \"Judgment\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"jehosheba\",\n                        name: \"Jehosheba\",\n                        hebrew: \"\u05D9\u05B0\u05D4\u05D5\u05B9\u05E9\u05B6\u05C1\u05D1\u05B7\u05E2\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/kings/jehosheba.html\",\n                        references: [\"2 Kings 11:2-3\"],\n                        meaning: \"Yahweh is an oath\",\n                        summary: \"Daughter of King Joram, saved baby Joash from Athaliah\",\n                        tags: [\"Princess\", \"Rescuer\", \"Courage\", \"Covenant keeper\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"shunammite-woman\",\n                        name: \"Shunammite Woman\",\n                        hebrew: \"\u05D4\u05B7\u05E9\u05BC\u05C1\u05D5\u05BC\u05E0\u05B7\u05DE\u05B4\u05BC\u05D9\u05EA\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/kings/shunammite-woman.html\",\n                        references: [\"2 Kings 4:8-37\", \"2 Kings 8:1-6\"],\n                        meaning: \"Woman from Shunem\",\n                        summary: \"Wealthy patron of Elisha, son raised from dead\",\n                        tags: [\"Patron\", \"Faith\", \"Hospitality\", \"Resurrection\", \"Mother\"],\n                        hasProfile: true,\n                        hasChiasm: true\n                    },\n                    {\n                        id: \"servant-girl-naaman\",\n                        name: \"Naaman's Wife's Servant Girl\",\n                        hebrew: \"\u05E0\u05B7\u05E2\u05B2\u05E8\u05B8\u05D4 \u05E7\u05B0\u05D8\u05B7\u05E0\u05B8\u05BC\u05D4\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/kings/servant-girl-naaman.html\",\n                        references: [\"2 Kings 5:2-4\"],\n                        meaning: \"Young girl/little maiden\",\n                        summary: \"Israelite captive who directed Naaman to Elisha for healing\",\n                        tags: [\"Captive\", \"Child\", \"Faith\", \"Witness\", \"Forgiveness\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"huldah\",\n                        name: \"Huldah\",\n                        hebrew: \"\u05D7\u05BB\u05DC\u05B0\u05D3\u05B8\u05BC\u05D4\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/kings/huldah.html\",\n                        references: [\"2 Kings 22:14-20\"],\n                        meaning: \"Weasel\",\n                        summary: \"Prophetess consulted by King Josiah about the Book of the Law\",\n                        tags: [\"Prophetess\", \"Authority\", \"Reform\", \"Judgment\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"elijah\",\n                        name: \"Elijah\",\n                        hebrew: \"\u05D0\u05B5\u05DC\u05B4\u05D9\u05B8\u05BC\u05D4\u05D5\u05BC\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/kings/elijah.html\",\n                        references: [\"1 Kings 17:1-24\", \"1 Kings 18:1-46\", \"1 Kings 19:1-21\", \"1 Kings 21:17-29\", \"2 Kings 1:1-18\", \"2 Kings 2:1-11\"],\n                        meaning: \"My God is Yahweh\",\n                        summary: \"Greatest prophet of northern kingdom, confronted Ahab and Jezebel, taken to heaven in whirlwind\",\n                        tags: [\"Prophet\", \"Miracle Worker\", \"Mount Carmel\", \"Translation\"],\n                        hasProfile: true,\n                        multiPage: true\n                    },\n                    {\n                        id: \"elisha\",\n                        name: \"Elisha\",\n                        hebrew: \"\u05D0\u05B1\u05DC\u05B4\u05D9\u05E9\u05B8\u05C1\u05E2\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/kings/elisha.html\",\n                        references: [\"1 Kings 19:16-21\", \"2 Kings 2:1-25\", \"2 Kings 4:1-44\", \"2 Kings 5:1-27\", \"2 Kings 6:1-33\", \"2 Kings 13:14-21\"],\n                        meaning: \"God is salvation\",\n                        summary: \"Elijah's successor, performed many miracles and helped common people\",\n                        tags: [\"Prophet\", \"Miracle Worker\", \"Successor\", \"Double Portion\"],\n                        hasProfile: true,\n                        multiPage: true\n                    },\n                    {\n                        id: \"jehu\",\n                        name: \"Jehu\",\n                        hebrew: \"\u05D9\u05B5\u05D4\u05D5\u05BC\u05D0\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/kings/jehu.html\",\n                        references: [\"2 Kings 9:1-37\", \"2 Kings 10:1-36\"],\n                        meaning: \"Yahweh is he\",\n                        summary: \"Anointed king who destroyed Ahab's dynasty and killed Jezebel\",\n                        tags: [\"King\", \"Reformer\", \"Divine Agent\", \"Judgment\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"hezekiah\",\n                        name: \"Hezekiah\",\n                        hebrew: \"\u05D7\u05B4\u05D6\u05B0\u05E7\u05B4\u05D9\u05B8\u05BC\u05D4\u05D5\u05BC\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/kings/hezekiah.html\",\n                        references: [\"2 Kings 18:1-37\", \"2 Kings 19:1-37\", \"2 Kings 20:1-21\"],\n                        meaning: \"Yahweh strengthens\",\n                        summary: \"Righteous king who trusted God against Assyrian invasion\",\n                        tags: [\"King\", \"Reformer\", \"Faith\", \"Miraculous Deliverance\"],\n                        hasProfile: true,\n                        multiPage: true\n                    },\n                    {\n                        id: \"josiah\",\n                        name: \"Josiah\",\n                        hebrew: \"\u05D9\u05B9\u05D0\u05E9\u05B4\u05C1\u05D9\u05B8\u05BC\u05D4\u05D5\u05BC\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/kings/josiah.html\",\n                        references: [\"2 Kings 22:1-20\", \"2 Kings 23:1-30\"],\n                        meaning: \"Yahweh supports\",\n                        summary: \"Great reformer king who discovered the Book of the Law\",\n                        tags: [\"King\", \"Reformer\", \"Law Discovery\", \"Passover Revival\"],\n                        hasProfile: true,\n                        multiPage: true\n                    },\n                    {\n                        id: \"naaman\",\n                        name: \"Naaman\",\n                        hebrew: \"\u05E0\u05B7\u05E2\u05B2\u05DE\u05B8\u05DF\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/kings/naaman.html\",\n                        references: [\"2 Kings 5:1-27\"],\n                        meaning: \"Pleasant\",\n                        summary: \"Syrian commander healed of leprosy by following Elisha's instructions\",\n                        tags: [\"Syrian\", \"Military Leader\", \"Healing\", \"Conversion\"],\n                        hasProfile: true\n                    }\n                ]\n            },\n            \n            // 1-2 Samuel data (matching expected structure)\n            samuel: {\n                book: {\n                    id: \"samuel\",\n                    name: \"1-2 Samuel\",\n                    hebrew: \"\u05E9\u05B0\u05C1\u05DE\u05D5\u05BC\u05D0\u05B5\u05DC\",\n                    hebrewTranslit: \"Sh'muel\"\n                },\n                characters: [\n                    {\n                        id: \"hannah\",\n                        name: \"Hannah\",\n                        hebrew: \"\u05D7\u05B7\u05E0\u05B8\u05BC\u05D4\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/hannah.html\",\n                        references: [\"1 Sam 1:1-28\", \"1 Sam 2:1-11\", \"1 Sam 2:18-21\"],\n                        meaning: \"Grace, favor\",\n                        summary: \"Barren woman whose fervent prayer led to Samuel's birth. Her song of praise became a model for the Magnificat.\",\n                        tags: [\"Mother\", \"Worshipper\", \"Prayer Warrior\", \"Barren Woman\", \"Prophetess\"],\n                        hasProfile: true,\n                        multiPage: true,\n                        hasSong: true,\n                        songPath: \"/studies/women/song-of-songs/song-of-hannah.html\"\n                    },\n                    {\n                        id: \"peninnah\",\n                        name: \"Peninnah\",\n                        hebrew: \"\u05E4\u05B0\u05BC\u05E0\u05B4\u05E0\u05B8\u05BC\u05D4\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/peninnah.html\",\n                        references: [\"1 Sam 1:2-7\"],\n                        meaning: \"Pearl, coral\",\n                        summary: \"Elkanah's second wife who had children and provoked Hannah's barrenness\",\n                        tags: [\"Rival Wife\", \"Mother\", \"Provocation\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"medium-endor\",\n                        name: \"Medium of En-dor\",\n                        hebrew: \"\u05D1\u05B7\u05BC\u05E2\u05B2\u05DC\u05B7\u05EA\u05BE\u05D0\u05D5\u05B9\u05D1\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/medium-endor.html\",\n                        references: [\"1 Sam 28:3-25\"],\n                        meaning: \"Mistress of the spirit\",\n                        summary: \"Necromancer consulted by Saul who summoned Samuel's spirit before his final battle\",\n                        tags: [\"Occult\", \"Necromancer\", \"Forbidden Practice\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"abigail\",\n                        name: \"Abigail\",\n                        hebrew: \"\u05D0\u05B2\u05D1\u05B4\u05D9\u05D2\u05B7\u05D9\u05B4\u05DC\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/abigail.html\",\n                        references: [\"1 Sam 25:1-44\", \"2 Sam 2:2\", \"2 Sam 3:3\"],\n                        meaning: \"My father's joy\",\n                        summary: \"Wise woman who prevented David from sinning by interceding for her foolish husband Nabal\",\n                        tags: [\"Wise Woman\", \"Intercessor\", \"David's Wife\", \"Peacemaker\"],\n                        hasProfile: true,\n                        multiPage: true\n                    },\n                    {\n                        id: \"michal\",\n                        name: \"Michal\",\n                        hebrew: \"\u05DE\u05B4\u05D9\u05DB\u05B7\u05DC\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/michal.html\",\n                        references: [\"1 Sam 14:49\", \"1 Sam 18:17-29\", \"1 Sam 19:11-17\", \"1 Sam 25:44\"],\n                        meaning: \"Who is like God?\",\n                        summary: \"Saul's daughter who loved David, helped him escape, later given to another man\",\n                        tags: [\"Princess\", \"David's Wife\", \"Love\", \"Protector\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"bathsheba\",\n                        name: \"Bathsheba\",\n                        hebrew: \"\u05D1\u05B7\u05BC\u05EA\u05BE\u05E9\u05B6\u05C1\u05D1\u05B7\u05E2\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/bathsheba.html\",\n                        references: [\"2 Sam 11:1-27\", \"2 Sam 12:15-25\"],\n                        meaning: \"Daughter of oath/seven\",\n                        summary: \"Woman David took in adultery, became his wife and mother of Solomon\",\n                        tags: [\"David's Wife\", \"Adultery\", \"Solomon's Mother\", \"Tragedy\"],\n                        hasProfile: true,\n                        multiPage: true\n                    },\n                    {\n                        id: \"tamar-david-daughter\",\n                        name: \"Tamar\",\n                        hebrew: \"\u05EA\u05B8\u05BC\u05DE\u05B8\u05E8\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/tamar-daughter-of-david.html\",\n                        references: [\"2 Sam 13:1-22\"],\n                        meaning: \"Palm tree\",\n                        summary: \"David's daughter raped by her half-brother Amnon, avenged by Absalom\",\n                        tags: [\"Princess\", \"Victim\", \"Amnon's Sister\", \"Beautiful\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"rizpah\",\n                        name: \"Rizpah\",\n                        hebrew: \"\u05E8\u05B4\u05E6\u05B0\u05E4\u05B8\u05BC\u05D4\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/rizpah.html\",\n                        references: [\"2 Sam 3:7\", \"2 Sam 21:8-11\"],\n                        meaning: \"Hot stone\",\n                        summary: \"Saul's concubine who protected her sons' bodies after execution\",\n                        tags: [\"Concubine\", \"Mother\", \"Protector\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"woman-of-abel-beth-maacah\",\n                        name: \"Woman of Abel Beth-maacah\",\n                        hebrew: \"\u05D0\u05B4\u05E9\u05B8\u05BC\u05C1\u05D4 \u05D7\u05B2\u05DB\u05B8\u05DE\u05B8\u05D4\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/woman-of-abel-beth-maacah.html\",\n                        references: [\"2 Sam 20:15-22\"],\n                        meaning: \"Wise woman\",\n                        summary: \"Wise woman who saved her city by handing over Sheba's head to Joab\",\n                        tags: [\"Wise Woman\", \"City Savior\", \"Negotiator\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"ahinoam-jezreel\",\n                        name: \"Ahinoam of Jezreel\",\n                        hebrew: \"\u05D0\u05B2\u05D7\u05B4\u05D9\u05E0\u05B9\u05E2\u05B7\u05DD\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/ahinoam-jezreel.html\",\n                        references: [\"1 Sam 25:43\", \"1 Sam 27:3\", \"1 Sam 30:5\"],\n                        meaning: \"My brother is pleasant\",\n                        summary: \"One of David's wives, taken captive by Amalekites and rescued\",\n                        tags: [\"David's Wife\", \"Captive\", \"Jezreel\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"merab\",\n                        name: \"Merab\",\n                        hebrew: \"\u05DE\u05B5\u05E8\u05B7\u05D1\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/merab.html\",\n                        references: [\"1 Sam 14:49\", \"1 Sam 18:17-19\"],\n                        meaning: \"Increase\",\n                        summary: \"Saul's eldest daughter, promised to David but given to Adriel\",\n                        tags: [\"Princess\", \"Saul's Daughter\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"tamar-absalom-daughter\",\n                        name: \"Tamar (Absalom's daughter)\",\n                        hebrew: \"\u05EA\u05B8\u05BC\u05DE\u05B8\u05E8\",\n                        gender: \"female\",\n                        profilePath: \"/studies/characters/samuel/tamar-daughter-of-absalom.html\",\n                        references: [\"2 Sam 14:27\"],\n                        meaning: \"Palm tree\",\n                        summary: \"Absalom's beautiful daughter, named after his sister\",\n                        tags: [\"Princess\", \"Beautiful\", \"Absalom's Daughter\"],\n                        hasProfile: true\n                    },\n                    {\n                        id: \"samuel\",\n                        name: \"Samuel\",\n                        hebrew: \"\u05E9\u05B0\u05C1\u05DE\u05D5\u05BC\u05D0\u05B5\u05DC\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/samuel/samuel.html\",\n                        references: [\"1 Sam 1:20\", \"1 Sam 3:1-21\", \"1 Sam 7:3-17\", \"1 Sam 8:1-22\", \"1 Sam 15:10-35\", \"1 Sam 16:1-13\"],\n                        meaning: \"Name of God/Asked of God\",\n                        summary: \"Last judge and first prophet, anointed both Saul and David as kings\",\n                        tags: [\"Prophet\", \"Judge\", \"Priest\", \"Kingmaker\", \"Nazarite\"],\n                        hasProfile: true,\n                        multiPage: true\n                    },\n                    {\n                        id: \"saul\",\n                        name: \"Saul\",\n                        hebrew: \"\u05E9\u05B8\u05C1\u05D0\u05D5\u05BC\u05DC\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/samuel/saul.html\",\n                        references: [\"1 Sam 9:1-27\", \"1 Sam 10:1-27\", \"1 Sam 11:1-15\", \"1 Sam 13:1-23\", \"1 Sam 15:1-35\", \"1 Sam 28:3-25\", \"1 Sam 31:1-13\"],\n                        meaning: \"Asked for/Requested\",\n                        summary: \"First king of Israel, chosen by people's demand, rejected by God for disobedience\",\n                        tags: [\"King\", \"Tragic Figure\", \"Disobedient\", \"Rejected\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"david\",\n                        name: \"David\",\n                        hebrew: \"\u05D3\u05B8\u05BC\u05D5\u05B4\u05D3\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/samuel/david.html\",\n                        references: [\"1 Sam 16:1-23\", \"1 Sam 17:1-58\", \"2 Sam 1:1-24:25\"],\n                        meaning: \"Beloved\",\n                        summary: \"Shepherd boy anointed as king, giant-killer, musician, man after God's own heart who fell into sin\",\n                        tags: [\"King\", \"Shepherd\", \"Musician\", \"Giant-killer\", \"Anointed\", \"Adulterer\", \"Repentant\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"jonathan\",\n                        name: \"Jonathan\",\n                        hebrew: \"\u05D9\u05B0\u05D4\u05D5\u05B9\u05E0\u05B8\u05EA\u05B8\u05DF\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/samuel/jonathan.html\",\n                        references: [\"1 Sam 13:2-3\", \"1 Sam 14:1-46\", \"1 Sam 18:1-4\", \"1 Sam 19:1-7\", \"1 Sam 20:1-42\", \"1 Sam 23:16-18\"],\n                        meaning: \"Yahweh has given\",\n                        summary: \"Saul's son and David's loyal friend who chose friendship over succession\",\n                        tags: [\"Prince\", \"Friend\", \"Loyal\", \"Warrior\", \"Covenant\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"goliath\",\n                        name: \"Goliath\",\n                        hebrew: \"\u05D2\u05B8\u05BC\u05DC\u05B0\u05D9\u05B8\u05EA\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/samuel/goliath.html\",\n                        references: [\"1 Sam 17:1-58\"],\n                        meaning: \"Exile/Uncovered\",\n                        summary: \"Philistine giant champion defeated by David with a sling and stone\",\n                        tags: [\"Giant\", \"Philistine\", \"Enemy\", \"Champion\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"absalom\",\n                        name: \"Absalom\",\n                        hebrew: \"\u05D0\u05B7\u05D1\u05B0\u05E9\u05B8\u05C1\u05DC\u05D5\u05B9\u05DD\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/samuel/absalom.html\",\n                        references: [\"2 Sam 13:1-39\", \"2 Sam 14:1-33\", \"2 Sam 15:1-37\", \"2 Sam 16:1-23\", \"2 Sam 17:1-29\", \"2 Sam 18:1-33\"],\n                        meaning: \"Father is peace\",\n                        summary: \"David's third son who rebelled against his father and was killed by Joab\",\n                        tags: [\"Prince\", \"Rebel\", \"Avenger\", \"Beautiful\", \"Dead\"],\n                        hasProfile: false\n                    },\n                    {\n                        id: \"nathan-prophet\",\n                        name: \"Nathan the Prophet\",\n                        hebrew: \"\u05E0\u05B8\u05EA\u05B8\u05DF\",\n                        gender: \"male\",\n                        profilePath: \"/studies/characters/samuel/nathan.html\",\n                        references: [\"2 Sam 7:1-29\", \"2 Sam 12:1-25\"],\n                        meaning: \"Gift\",\n                        summary: \"Prophet who gave David the covenant promises and confronted him about his sin with Bathsheba\",\n                        tags: [\"Prophet\", \"Confronter\", \"Covenant Bearer\"],\n                        hasProfile: false\n                    }\n                ]\n            }\n        };\n    }\n\n    /**\n     * Force display update after data load\n     */\n    forceDisplayUpdate() {\n        // Make sure the book data section is visible\n        setTimeout(() => {\n            const bookSection = document.getElementById('book-data-section');\n            const bookData = document.getElementById('book-data');\n            const loading = document.getElementById('book-loading');\n            \n            if (bookSection && bookData && loading) {\n                bookSection.style.display = 'block';\n                loading.style.display = 'none';\n                bookData.style.display = 'block';\n                \n                // Scroll to the section\n                bookSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n            }\n        }, 100);\n    }\n\n    /**\n     * Clear the cache\n     */\n    clearCache() {\n        this.cache.clear();\n    }\n}\n\n// Export for use as ES6 module\nexport default CharacterLoader;", "/**\n * Hub Core JavaScript Module\n * Path: /assets/js/hub-core.js\n * Handles all hub functionality for both characters and women hubs\n * Updated to handle multi-page character studies with subdirectories\n */\n\nclass HubCore {\n    constructor(options = {}) {\n        this.type = options.type || 'characters'; // 'characters' or 'women'\n        this.filterGender = options.filterGender || null; // null, 'male', or 'female'\n        this.loader = null;\n        this.currentBook = null;\n        this.initialized = false;\n        \n        // Wait for DOM to be ready\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => this.init());\n        } else {\n            this.init();\n        }\n    }\n\n    async init() {\n        if (this.initialized) return;\n        \n        try {\n            // Import the CharacterLoader module\n            const { default: CharacterLoader } = await import('./character-loader.js');\n            this.loader = new CharacterLoader({ \n                filterGender: this.filterGender \n            });\n            \n            // Initialize the loader and get manifest\n            await this.loader.initialize();\n            \n            // Setup all event listeners\n            this.setupEventListeners();\n            \n            // Animate stats if they exist\n            this.animateStats();\n            \n            // Load featured characters\n            this.loadFeaturedCharacters();\n            \n            // Setup mobile menu\n            this.setupMobileMenu();\n            \n            // Setup scroll effects\n            this.setupScrollEffects();\n            \n            this.initialized = true;\n            \n        } catch (error) {\n            console.error('Failed to initialize hub:', error);\n            this.showError('Failed to initialize. Please refresh the page.');\n        }\n    }\n\n    /**\n     * Setup all event listeners\n     */\n    setupEventListeners() {\n        // Main tab switching (Tanakh vs New Testament)\n        document.querySelectorAll('.main-tab-button').forEach(button => {\n            button.addEventListener('click', (e) => this.handleMainTabClick(e));\n        });\n\n        // Sub-tab switching (Torah, Prophets, Writings)\n        document.querySelectorAll('.sub-tab-button').forEach(button => {\n            button.addEventListener('click', (e) => this.handleSubTabClick(e));\n        });\n\n        // Book row clicks\n        document.querySelectorAll('tr[data-book]').forEach(row => {\n            row.addEventListener('click', (e) => this.handleBookClick(e));\n        });\n\n        // Quick link smooth scrolling\n        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n            anchor.addEventListener('click', (e) => this.handleAnchorClick(e));\n        });\n    }\n\n    /**\n     * Handle main tab clicks\n     */\n    handleMainTabClick(event) {\n        const button = event.currentTarget;\n        const section = button.dataset.section;\n        \n        // Update active states\n        document.querySelectorAll('.main-tab-button').forEach(btn => {\n            btn.classList.remove('active');\n        });\n        button.classList.add('active');\n        \n        // Show/hide content\n        document.querySelectorAll('.tab-content').forEach(content => {\n            content.classList.remove('active');\n        });\n        \n        const targetContent = document.getElementById(`${section}-content`);\n        if (targetContent) {\n            targetContent.classList.add('active');\n        }\n    }\n\n    /**\n     * Handle sub-tab clicks\n     */\n    handleSubTabClick(event) {\n        const button = event.currentTarget;\n        const category = button.dataset.category;\n        \n        // Find the parent nav group\n        const navGroup = button.closest('.sub-tabs-nav');\n        \n        // Update active states within this group only\n        navGroup.querySelectorAll('.sub-tab-button').forEach(btn => {\n            btn.classList.remove('active');\n        });\n        button.classList.add('active');\n        \n        // Hide all sub-tab-content\n        document.querySelectorAll('.sub-tab-content').forEach(content => {\n            content.classList.remove('active');\n        });\n        \n        // Show the selected category\n        const targetContent = document.getElementById(`${category}-category`);\n        if (targetContent) {\n            targetContent.classList.add('active');\n        }\n    }\n\n    /**\n     * Handle book row clicks\n     */\n    async handleBookClick(event) {\n        const row = event.currentTarget;\n        const bookId = row.dataset.book;\n        \n        if (!bookId) return;\n        \n        // Prevent multiple clicks\n        if (this.currentBook === bookId && this.isLoading) return;\n        \n        this.currentBook = bookId;\n        await this.loadBookCharacters(bookId);\n    }\n\n    /**\n     * Handle anchor link clicks for smooth scrolling\n     */\n    handleAnchorClick(event) {\n        event.preventDefault();\n        const target = document.querySelector(event.currentTarget.getAttribute('href'));\n        if (target) {\n            const offsetTop = target.offsetTop - 100; // Account for fixed nav\n            window.scrollTo({\n                top: offsetTop,\n                behavior: 'smooth'\n            });\n        }\n    }\n\n    /**\n     * Load and display book characters\n     */\n    async loadBookCharacters(bookId) {\n        const section = document.getElementById('book-data-section');\n        const loading = document.getElementById('book-loading');\n        const dataEl = document.getElementById('book-data');\n        \n        if (!section || !loading || !dataEl) {\n            console.error('Required elements not found');\n            return;\n        }\n        \n        // Show loading state\n        section.style.display = 'block';\n        loading.style.display = 'flex';\n        dataEl.style.display = 'none';\n        this.isLoading = true;\n        \n        try {\n            // Load book data (already filtered by CharacterLoader if filterGender is set)\n            const data = await this.loader.loadBook(bookId);\n            \n            if (!data || !data.characters || data.characters.length === 0) {\n                // Customize message based on filter\n                let emptyMessage = 'No Characters Found';\n                let emptySubtext = 'This book doesn\\'t have any character profiles yet';\n                \n                if (this.filterGender === 'female') {\n                    emptyMessage = 'No Women Recorded';\n                    emptySubtext = 'This book does not contain any women profiles';\n                } else if (this.filterGender === 'male') {\n                    emptyMessage = 'No Men Recorded';\n                    emptySubtext = 'This book does not contain any men profiles';\n                }\n                \n                dataEl.innerHTML = `\n                    <div class=\"empty-state\">\n                        <div class=\"empty-state-icon\">\uD83D\uDCDA</div>\n                        <div class=\"empty-state-text\">${emptyMessage}</div>\n                        <div class=\"empty-state-subtext\">${emptySubtext}</div>\n                    </div>\n                `;\n            } else {\n                // Render character cards\n                this.renderCharacterCards(data, dataEl);\n            }\n            \n            // Hide loading, show data\n            loading.style.display = 'none';\n            dataEl.style.display = 'block';\n            \n            // Smooth scroll to content\n            setTimeout(() => {\n                section.scrollIntoView({ \n                    behavior: 'smooth', \n                    block: 'nearest' \n                });\n            }, 100);\n            \n        } catch (error) {\n            console.error('Error loading book:', error);\n            dataEl.innerHTML = `\n                <div class=\"empty-state\">\n                    <div class=\"empty-state-icon\">\u26A0\uFE0F</div>\n                    <div class=\"empty-state-text\">Failed to Load Characters</div>\n                    <div class=\"empty-state-subtext\">Please try again or refresh the page</div>\n                </div>\n            `;\n            loading.style.display = 'none';\n            dataEl.style.display = 'block';\n        } finally {\n            this.isLoading = false;\n        }\n    }\n\n    /**\n     * Render character cards in the data element\n     * FIXED: Now properly respects the filterGender setting\n     */\n    renderCharacterCards(data, container) {\n        const bookName = data.book?.name || 'Book';\n        const bookId = data.book?.id || 'book';\n        \n        // CRITICAL FIX: Respect the gender filter\n        // If filterGender is set, only show that gender\n        // If not set, show all characters separated by gender\n        \n        let html = '';\n        \n        if (this.filterGender === 'female') {\n            // Women's hub - only show women\n            const women = data.characters.filter(c => c.gender === 'female');\n            \n            if (women.length === 0) {\n                html = `\n                    <div class=\"empty-state\">\n                        <div class=\"empty-state-icon\">\uD83D\uDCD6</div>\n                        <div class=\"empty-state-text\">No Women in ${bookName}</div>\n                        <div class=\"empty-state-subtext\">This book does not contain any women profiles</div>\n                    </div>\n                `;\n            } else {\n                // Separate named and unnamed women\n                const named = women.filter(w => !w.tags?.includes('Unnamed'));\n                const unnamed = women.filter(w => w.tags?.includes('Unnamed'));\n                \n                html = `<h3 class=\"section-title\">Women in ${bookName}</h3>`;\n                \n                if (named.length > 0) {\n                    html += `\n                        <div class=\"section-header\">\n                            <h4 class=\"section-title\">Named Women</h4>\n                            <p class=\"section-subtitle\">${named.length} women with recorded names</p>\n                        </div>\n                        <div class=\"cards-grid\">\n                            ${named.map(char => this.createCharacterCard(char, bookId)).join('')}\n                        </div>\n                    `;\n                }\n                \n                if (unnamed.length > 0) {\n                    html += `\n                        <div class=\"section-header\">\n                            <h4 class=\"section-title\">Unnamed Women</h4>\n                            <p class=\"section-subtitle\">${unnamed.length} women identified by role or relationship</p>\n                        </div>\n                        <div class=\"cards-grid\">\n                            ${unnamed.map(char => this.createCharacterCard(char, bookId)).join('')}\n                        </div>\n                    `;\n                }\n            }\n            \n        } else if (this.filterGender === 'male') {\n            // Men only filter - only show men\n            const men = data.characters.filter(c => c.gender === 'male');\n            \n            html = `<h3 class=\"section-title\">Men in ${bookName}</h3>`;\n            \n            if (men.length > 0) {\n                html += `\n                    <div class=\"cards-grid\">\n                        ${men.map(char => this.createCharacterCard(char, bookId)).join('')}\n                    </div>\n                `;\n            } else {\n                html = `\n                    <div class=\"empty-state\">\n                        <div class=\"empty-state-icon\">\uD83D\uDCD6</div>\n                        <div class=\"empty-state-text\">No Men in ${bookName}</div>\n                        <div class=\"empty-state-subtext\">This book does not contain any men profiles</div>\n                    </div>\n                `;\n            }\n            \n        } else {\n            // No filter - show all characters separated by gender (original behavior)\n            const men = data.characters.filter(c => c.gender === 'male');\n            const women = data.characters.filter(c => c.gender === 'female');\n            const unknown = data.characters.filter(c => !c.gender || c.gender === 'unknown');\n            \n            html = `<h3 class=\"section-title\">${bookName} Characters</h3>`;\n            \n            // Render men section if exists\n            if (men.length > 0) {\n                html += `\n                    <div class=\"section-header\">\n                        <h4 class=\"section-title\">Men</h4>\n                        <p class=\"section-subtitle\">${men.length} male character${men.length > 1 ? 's' : ''}</p>\n                    </div>\n                    <div class=\"cards-grid\">\n                        ${men.map(char => this.createCharacterCard(char, bookId)).join('')}\n                    </div>\n                `;\n            }\n            \n            // Render women section if exists\n            if (women.length > 0) {\n                html += `\n                    <div class=\"section-header\">\n                        <h4 class=\"section-title\">Women</h4>\n                        <p class=\"section-subtitle\">${women.length} female character${women.length > 1 ? 's' : ''}</p>\n                    </div>\n                    <div class=\"cards-grid\">\n                        ${women.map(char => this.createCharacterCard(char, bookId)).join('')}\n                    </div>\n                `;\n            }\n            \n            // Render unknown/other section if exists\n            if (unknown.length > 0) {\n                html += `\n                    <div class=\"section-header\">\n                        <h4 class=\"section-title\">Other Characters</h4>\n                        <p class=\"section-subtitle\">${unknown.length} character${unknown.length > 1 ? 's' : ''}</p>\n                    </div>\n                    <div class=\"cards-grid\">\n                        ${unknown.map(char => this.createCharacterCard(char, bookId)).join('')}\n                    </div>\n                `;\n            }\n        }\n        \n        container.innerHTML = html;\n        \n        // Animate cards in\n        this.animateCardEntrance();\n    }\n\n    /**\n     * Build the correct path for a character profile\n     * Handles multi-page studies that have subdirectories\n     */\n    buildCharacterPath(character, bookId) {\n        // If character has explicit profilePath, use it\n        if (character.profilePath) {\n            return character.profilePath;\n        }\n        \n        // If character has multiPage flag, it's in a subdirectory\n        if (character.multiPage) {\n            return `/studies/characters/${bookId}/${character.id}/${character.id}.html`;\n        }\n        \n        // Standard single-page character\n        return `/studies/characters/${bookId}/${character.id}.html`;\n    }\n\n    /**\n     * Create a single character card HTML\n     */\n    createCharacterCard(character, bookId) {\n        const hebrewText = character.hebrew ? \n            `<span class=\"hebrew\">${character.hebrew}</span>` : '';\n        \n        const tags = (character.tags || []).map(tag => {\n            const tagClass = this.getTagClass(tag);\n            return `<span class=\"tag ${tagClass}\">${tag}</span>`;\n        }).join('');\n        \n        const references = Array.isArray(character.references) ? \n            character.references.join(', ') : character.references || '';\n        \n        const meta = character.meaning ? \n            `${character.meaning} \u2022 ${references}` : references;\n        \n        // Build the correct path\n        const href = this.buildCharacterPath(character, bookId);\n        \n        // Add song link for women with songs\n        const songLink = character.hasSong && character.songPath ? \n            `<a href=\"${character.songPath}\" class=\"song-link\" title=\"View Song\">\n                <span>\uD83C\uDFB5</span> Song\n            </a>` : '';\n        \n        return `\n            <article class=\"study-card\" style=\"opacity: 0;\">\n                <a href=\"${href}\" class=\"study-card-link\">\n                    <div class=\"study-card-header\">\n                        <h4 class=\"study-card-title\">\n                            ${character.name} ${hebrewText}\n                        </h4>\n                        <div class=\"study-card-tags\">${tags}</div>\n                    </div>\n                    <div class=\"study-card-body\">\n                        <p class=\"study-card-meta\">${meta}</p>\n                        <p class=\"study-card-desc\">${character.summary || ''}</p>\n                    </div>\n                    <div class=\"study-card-arrow\">\n                        <svg viewBox=\"0 0 24 24\">\n                            <path d=\"M9 5l7 7-7 7\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/>\n                        </svg>\n                    </div>\n                </a>\n                ${songLink}\n            </article>\n        `;\n    }\n\n    /**\n     * Get appropriate tag class based on tag content\n     */\n    getTagClass(tag) {\n        const lowerTag = tag.toLowerCase();\n        if (lowerTag.includes('group') || lowerTag.includes('unnamed')) {\n            return 'group';\n        }\n        if (lowerTag.includes('warning') || lowerTag.includes('antagonist')) {\n            return 'warning';\n        }\n        return '';\n    }\n\n    /**\n     * Animate card entrance\n     */\n    animateCardEntrance() {\n        const cards = document.querySelectorAll('.study-card[style*=\"opacity: 0\"]');\n        cards.forEach((card, index) => {\n            setTimeout(() => {\n                card.style.opacity = '1';\n                card.style.transform = 'translateY(0)';\n                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';\n            }, index * 50); // 50ms stagger\n        });\n    }\n\n    /**\n     * Load featured characters\n     * Updated to respect gender filter\n     */\n    async loadFeaturedCharacters() {\n        const featuredGrid = document.getElementById('featured-grid');\n        if (!featuredGrid) return;\n        \n        let featured = [];\n        \n        if (this.filterGender === 'female') {\n            // Women-only featured characters\n            featured = [\n                { \n                    book: 'judges', \n                    id: 'deborah', \n                    name: 'Deborah', \n                    hebrew: '\u05D3\u05B0\u05BC\u05D1\u05D5\u05B9\u05E8\u05B8\u05D4',\n                    desc: 'Prophet, judge, and military leader. The only female judge who led Israel to victory over Canaanite oppression.',\n                    meta: 'Judges 4-5 \u2022 Multi-page Study',\n                    multiPage: true\n                },\n                { \n                    book: 'genesis', \n                    id: 'sarah', \n                    name: 'Sarah', \n                    hebrew: '\u05E9\u05B8\u05C2\u05E8\u05B8\u05D4',\n                    desc: 'Mother of nations, wife of Abraham. Her story demonstrates faith through struggle with infertility and God\\'s promise fulfillment.',\n                    meta: 'Genesis 11-25 \u2022 Complete Profile',\n                    multiPage: false\n                },\n                { \n                    book: 'ruth', \n                    id: 'ruth', \n                    name: 'Ruth', \n                    hebrew: '\u05E8\u05D5\u05BC\u05EA',\n                    desc: 'Moabite woman whose loyalty and faithfulness led to her becoming great-grandmother of King David.',\n                    meta: 'Book of Ruth \u2022 Complete Profile',\n                    multiPage: false\n                },\n                { \n                    book: 'exodus', \n                    id: 'miriam', \n                    name: 'Miriam', \n                    hebrew: '\u05DE\u05B4\u05E8\u05B0\u05D9\u05B8\u05DD',\n                    desc: 'Prophetess and sister of Moses who led women in worship after crossing the Red Sea.',\n                    meta: 'Exodus \u2022 Complete Profile',\n                    multiPage: false\n                },\n                { \n                    book: 'genesis', \n                    id: 'hagar', \n                    name: 'Hagar', \n                    hebrew: '\u05D4\u05B8\u05D2\u05B8\u05E8',\n                    desc: 'Egyptian servant who became mother of Ishmael. Her encounters with God reveal His compassion for the marginalized.',\n                    meta: 'Genesis 16, 21 \u2022 Complete Profile',\n                    multiPage: false\n                },\n                { \n                    book: 'judges', \n                    id: 'delilah', \n                    name: 'Delilah', \n                    hebrew: '\u05D3\u05B0\u05BC\u05DC\u05B4\u05D9\u05DC\u05B8\u05D4',\n                    desc: 'Philistine woman who betrayed Samson. Her story explores themes of deception, weakness, and divine sovereignty.',\n                    meta: 'Judges 16 \u2022 Complete Profile',\n                    multiPage: false\n                }\n            ];\n        } else {\n            // Default featured characters (mixed gender or all)\n            featured = [\n                { \n                    book: 'genesis', \n                    id: 'abraham', \n                    name: 'Abraham', \n                    hebrew: '\u05D0\u05B7\u05D1\u05B0\u05E8\u05B8\u05D4\u05B8\u05DD',\n                    desc: 'Father of faith, covenant recipient, and patriarch of Israel. His journey from Ur to Canaan exemplifies faith and obedience.',\n                    meta: 'Genesis 11-25 \u2022 Multi-page Study',\n                    multiPage: true\n                },\n                { \n                    book: 'genesis', \n                    id: 'sarah', \n                    name: 'Sarah', \n                    hebrew: '\u05E9\u05B8\u05C2\u05E8\u05B8\u05D4',\n                    desc: 'Mother of nations, wife of Abraham. Her story demonstrates faith through struggle with infertility and God\\'s promise fulfillment.',\n                    meta: 'Genesis 11-25 \u2022 Complete Profile',\n                    multiPage: false\n                },\n                { \n                    book: 'exodus', \n                    id: 'moses', \n                    name: 'Moses', \n                    hebrew: '\u05DE\u05B9\u05E9\u05B6\u05C1\u05D4',\n                    desc: 'Prophet, lawgiver, and deliverer of Israel from Egypt. Central figure in the Exodus and covenant at Sinai.',\n                    meta: 'Exodus-Deuteronomy \u2022 Multi-page Study',\n                    multiPage: true\n                },\n                { \n                    book: 'judges', \n                    id: 'deborah', \n                    name: 'Deborah', \n                    hebrew: '\u05D3\u05B0\u05BC\u05D1\u05D5\u05B9\u05E8\u05B8\u05D4',\n                    desc: 'Prophet, judge, and military leader. The only female judge who led Israel to victory over Canaanite oppression.',\n                    meta: 'Judges 4-5 \u2022 Multi-page Study',\n                    multiPage: true\n                },\n                { \n                    book: 'genesis', \n                    id: 'hagar', \n                    name: 'Hagar', \n                    hebrew: '\u05D4\u05B8\u05D2\u05B8\u05E8',\n                    desc: 'Egyptian servant who became mother of Ishmael. Her encounters with God reveal His compassion for the marginalized.',\n                    meta: 'Genesis 16, 21 \u2022 Complete Profile',\n                    multiPage: false\n                },\n                { \n                    book: 'judges', \n                    id: 'delilah', \n                    name: 'Delilah', \n                    hebrew: '\u05D3\u05B0\u05BC\u05DC\u05B4\u05D9\u05DC\u05B8\u05D4',\n                    desc: 'Philistine woman who betrayed Samson. Her story explores themes of deception, weakness, and divine sovereignty.',\n                    meta: 'Judges 16 \u2022 Complete Profile',\n                    multiPage: false\n                }\n            ];\n        }\n        \n        // Render featured cards with correct paths\n        const html = featured.map(char => {\n            // Build the correct path based on whether it's multi-page\n            const href = char.multiPage \n                ? `/studies/characters/${char.book}/${char.id}/${char.id}.html`\n                : `/studies/characters/${char.book}/${char.id}.html`;\n            \n            return `\n                <a href=\"${href}\" class=\"character-card\">\n                    <div class=\"character-header\">\n                        <div class=\"character-name\">\n                            ${char.name} \n                            <span class=\"character-hebrew\">${char.hebrew}</span>\n                        </div>\n                    </div>\n                    <div class=\"character-body\">\n                        <p class=\"character-desc\">${char.desc}</p>\n                        <div class=\"character-meta\">${char.meta}</div>\n                    </div>\n                </a>\n            `;\n        }).join('');\n        \n        featuredGrid.innerHTML = html;\n    }\n\n    /**\n     * Animate hero stats\n     */\n    animateStats() {\n        document.querySelectorAll('[data-target]').forEach(stat => {\n            const target = parseInt(stat.dataset.target);\n            if (isNaN(target)) return;\n            \n            const increment = target / 50;\n            let current = 0;\n            \n            const timer = setInterval(() => {\n                current += increment;\n                if (current >= target) {\n                    stat.textContent = target + '+';\n                    clearInterval(timer);\n                } else {\n                    stat.textContent = Math.floor(current);\n                }\n            }, 30);\n        });\n    }\n\n    /**\n     * Setup mobile menu functionality\n     */\n    setupMobileMenu() {\n        const toggle = document.getElementById('mobileMenuToggle');\n        const navLinks = document.getElementById('navLinks');\n        \n        if (!toggle || !navLinks) return;\n        \n        toggle.addEventListener('click', () => {\n            toggle.classList.toggle('active');\n            navLinks.classList.toggle('active');\n        });\n        \n        // Close menu when clicking outside\n        document.addEventListener('click', (e) => {\n            if (!e.target.closest('nav')) {\n                toggle.classList.remove('active');\n                navLinks.classList.remove('active');\n            }\n        });\n    }\n\n    /**\n     * Setup scroll effects\n     */\n    setupScrollEffects() {\n        let scrollTimeout;\n        \n        window.addEventListener('scroll', () => {\n            if (scrollTimeout) {\n                window.cancelAnimationFrame(scrollTimeout);\n            }\n            \n            scrollTimeout = window.requestAnimationFrame(() => {\n                const nav = document.getElementById('main-nav');\n                if (nav) {\n                    if (window.scrollY > 100) {\n                        nav.classList.add('scrolled');\n                    } else {\n                        nav.classList.remove('scrolled');\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Show error message\n     */\n    showError(message) {\n        const errorHtml = `\n            <div class=\"empty-state\">\n                <div class=\"empty-state-icon\">\u26A0\uFE0F</div>\n                <div class=\"empty-state-text\">Error</div>\n                <div class=\"empty-state-subtext\">${message}</div>\n            </div>\n        `;\n        \n        // Try to find a suitable container\n        const container = document.getElementById('book-data') || \n                         document.querySelector('.container');\n        if (container) {\n            container.innerHTML = errorHtml;\n        } else {\n            console.error(message);\n        }\n    }\n}\n\n// Make available globally for non-module usage\nif (typeof window !== 'undefined') {\n    window.HubCore = HubCore;\n}\n\nexport default HubCore;", "/**\n * Hub Common JavaScript Module\n * Path: /assets/js/hub-common.js\n * Purpose: Shared functionality for all hub pages\n * Version: 1.0.1 - Updated with working search\n */\n\nclass HubCommon {\n    constructor(config = {}) {\n        this.config = {\n            animateStats: true,\n            enableSearch: true,\n            enableFilters: true,\n            enableSmoothScroll: true,\n            enableScrollEffects: true,\n            ...config\n        };\n        \n        this.init();\n    }\n\n    init() {\n        // Initialize all features based on config\n        if (this.config.enableScrollEffects) this.initScrollEffects();\n        if (this.config.enableSmoothScroll) this.initSmoothScroll();\n        if (this.config.animateStats) this.initStatsAnimation();\n        if (this.config.enableFilters) this.initFilters();\n        if (this.config.enableSearch) this.initSearch();\n        \n        // Always initialize these\n        this.initMobileMenu();\n        this.initAccessibility();\n    }\n\n    /**\n     * Initialize scroll effects for navigation\n     */\n    initScrollEffects() {\n        const nav = document.getElementById('main-nav');\n        if (!nav) return;\n\n        let lastScroll = 0;\n        \n        window.addEventListener('scroll', () => {\n            const currentScroll = window.pageYOffset;\n            \n            // Add/remove scrolled class\n            if (currentScroll > 100) {\n                nav.classList.add('scrolled');\n            } else {\n                nav.classList.remove('scrolled');\n            }\n            \n            lastScroll = currentScroll;\n        }, { passive: true });\n    }\n\n    /**\n     * Initialize smooth scrolling for anchor links\n     */\n    initSmoothScroll() {\n        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n            anchor.addEventListener('click', (e) => {\n                e.preventDefault();\n                const targetId = anchor.getAttribute('href');\n                if (targetId === '#') return;\n                \n                const target = document.querySelector(targetId);\n                if (target) {\n                    const offset = 100; // Account for fixed nav\n                    const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - offset;\n                    \n                    window.scrollTo({\n                        top: targetPosition,\n                        behavior: 'smooth'\n                    });\n                }\n            });\n        });\n    }\n\n    /**\n     * Initialize stats animation\n     */\n    initStatsAnimation() {\n        const observerOptions = {\n            threshold: 0.5,\n            rootMargin: '0px 0px -10% 0px'\n        };\n\n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    const statNumbers = entry.target.querySelectorAll('[data-target]');\n                    statNumbers.forEach(stat => this.animateStat(stat));\n                    observer.unobserve(entry.target);\n                }\n            });\n        }, observerOptions);\n\n        // Observe hero sections with stats\n        const heroSections = document.querySelectorAll('.hero-stats');\n        heroSections.forEach(section => observer.observe(section));\n        \n        // Also observe progress sections\n        const progressSections = document.querySelectorAll('.progress-section');\n        progressSections.forEach(section => observer.observe(section));\n    }\n\n    /**\n     * Animate a single stat number\n     */\n    animateStat(element) {\n        const target = parseInt(element.dataset.target);\n        if (isNaN(target)) return;\n        \n        const duration = 2000; // 2 seconds\n        const steps = 60;\n        const increment = target / steps;\n        let current = 0;\n        let step = 0;\n        \n        const timer = setInterval(() => {\n            current += increment;\n            step++;\n            \n            if (step >= steps) {\n                element.textContent = target + (element.dataset.suffix || '');\n                clearInterval(timer);\n            } else {\n                element.textContent = Math.floor(current) + (element.dataset.suffix || '');\n            }\n        }, duration / steps);\n    }\n\n    /**\n     * Initialize filter functionality\n     */\n    initFilters() {\n        const filterButtons = document.querySelectorAll('.filter-button');\n        if (filterButtons.length === 0) return;\n\n        filterButtons.forEach(button => {\n            button.addEventListener('click', () => {\n                const filter = button.dataset.filter;\n                \n                // Update active button\n                filterButtons.forEach(btn => btn.classList.remove('active'));\n                button.classList.add('active');\n                \n                // Filter items\n                this.filterItems(filter);\n                \n                // Trigger custom event\n                document.dispatchEvent(new CustomEvent('hubFilterChange', {\n                    detail: { filter }\n                }));\n            });\n        });\n    }\n\n    /**\n     * Filter items based on category\n     */\n    filterItems(filter) {\n        const items = document.querySelectorAll('[data-category]');\n        \n        items.forEach(item => {\n            if (filter === 'all') {\n                item.style.display = '';\n                this.fadeIn(item);\n            } else {\n                const categories = item.dataset.category?.split(' ') || [];\n                if (categories.includes(filter)) {\n                    item.style.display = '';\n                    this.fadeIn(item);\n                } else {\n                    this.fadeOut(item).then(() => {\n                        item.style.display = 'none';\n                    });\n                }\n            }\n        });\n    }\n\n    /**\n     * Initialize search functionality\n     */\n    initSearch() {\n        const searchInput = document.getElementById('searchInput');\n        const searchButton = document.querySelector('.search-button');\n        \n        if (!searchInput) return;\n        \n        // Search on button click\n        searchButton?.addEventListener('click', () => this.performSearch());\n        \n        // Search on enter key\n        searchInput.addEventListener('keypress', (e) => {\n            if (e.key === 'Enter') {\n                e.preventDefault();\n                this.performSearch();\n            }\n        });\n        \n        // Live search with debounce\n        let debounceTimer;\n        searchInput.addEventListener('input', () => {\n            clearTimeout(debounceTimer);\n            debounceTimer = setTimeout(() => this.performSearch(), 300);\n        });\n        \n        // Initialize clear button functionality\n        this.initSearchClear();\n    }\n\n    /**\n     * Initialize search clear button\n     */\n    initSearchClear() {\n        const clearButton = document.getElementById('clearSearch');\n        const searchInput = document.getElementById('searchInput');\n        const resultsDiv = document.getElementById('searchResults');\n        const resultsCount = document.getElementById('searchResultsCount');\n        \n        if (clearButton && searchInput) {\n            clearButton.addEventListener('click', () => {\n                searchInput.value = '';\n                clearButton.style.display = 'none';\n                if (resultsDiv) resultsDiv.innerHTML = '';\n                if (resultsCount) resultsCount.style.display = 'none';\n                searchInput.focus();\n            });\n        }\n    }\n\n    /**\n     * Perform search - UPDATED VERSION\n     */\n    async performSearch() {\n        const searchInput = document.getElementById('searchInput');\n        const searchTerm = searchInput?.value.toLowerCase().trim() || '';\n        const resultsDiv = document.getElementById('searchResults');\n        const resultsCount = document.getElementById('searchResultsCount');\n        const clearButton = document.getElementById('clearSearch');\n        \n        // Show/hide clear button\n        if (clearButton) {\n            clearButton.style.display = searchTerm ? 'flex' : 'none';\n        }\n        \n        if (!searchTerm) {\n            if (resultsDiv) resultsDiv.innerHTML = '';\n            if (resultsCount) resultsCount.style.display = 'none';\n            return;\n        }\n        \n        // Show loading state\n        if (resultsDiv) {\n            resultsDiv.innerHTML = '<div class=\"search-loading\"></div>';\n        }\n        \n        try {\n            let matches = [];\n            \n            // Check if we have the hub instance with loader\n            if (window.hub && window.hub.loader) {\n                // Search through all loaded character data\n                const allCharacters = await window.hub.loader.searchCharacters(searchTerm);\n                matches = allCharacters;\n                \n                // Display character results\n                this.displayCharacterResults(matches, searchTerm, resultsDiv, resultsCount);\n            } else {\n                // Fallback: Search DOM elements (current page only)\n                const searchableItems = document.querySelectorAll('.study-card, .character-card, .featured-card');\n                \n                searchableItems.forEach(item => {\n                    const text = item.textContent.toLowerCase();\n                    if (text.includes(searchTerm)) {\n                        matches.push({\n                            element: item.cloneNode(true),\n                            relevance: this.calculateRelevance(text, searchTerm)\n                        });\n                    }\n                });\n                \n                // Sort by relevance\n                matches.sort((a, b) => b.relevance - a.relevance);\n                \n                // Display DOM results\n                this.displaySearchResults(matches, searchTerm, resultsDiv);\n            }\n            \n        } catch (error) {\n            console.error('Search error:', error);\n            if (resultsDiv) {\n                resultsDiv.innerHTML = `\n                    <div class=\"empty-state\">\n                        <div class=\"empty-state-icon\">\u26A0\uFE0F</div>\n                        <div class=\"empty-state-text\">Search Error</div>\n                        <div class=\"empty-state-subtext\">Please try again</div>\n                    </div>\n                `;\n            }\n        }\n    }\n\n    /**\n     * Display character search results\n     */\n    displayCharacterResults(characters, searchTerm, resultsDiv, resultsCount) {\n        if (!resultsDiv) return;\n        \n        if (characters.length > 0) {\n            // Update count\n            if (resultsCount) {\n                resultsCount.querySelector('.results-number').textContent = characters.length;\n                resultsCount.style.display = 'block';\n            }\n            \n            // Build results HTML\n            let html = `\n                <div class=\"section-header\">\n                    <h3 class=\"section-title\">Search Results</h3>\n                    <p class=\"section-subtitle\">${characters.length} result${characters.length !== 1 ? 's' : ''} for \"${searchTerm}\"</p>\n                </div>\n                <div class=\"studies-list cards-grid\">\n            `;\n            \n            characters.forEach(char => {\n                const bookId = char.book?.id || 'unknown';\n                const profilePath = char.profilePath || `#`;\n                const hebrewText = char.hebrew ? `<span class=\"hebrew\">${char.hebrew}</span>` : '';\n                const tags = (char.tags || []).map(tag => {\n                    const tagClass = tag.toLowerCase().includes('unnamed') ? 'group' : '';\n                    return `<span class=\"tag ${tagClass}\">${tag}</span>`;\n                }).join('');\n                const references = Array.isArray(char.references) ? char.references.join(', ') : '';\n                \n                html += `\n                    <article class=\"study-card\">\n                        <a href=\"${profilePath}\" class=\"study-card-link\">\n                            <div class=\"study-card-header\">\n                                <h4 class=\"study-card-title\">\n                                    ${char.name} ${hebrewText}\n                                </h4>\n                                <div class=\"study-card-tags\">${tags}</div>\n                            </div>\n                            <div class=\"study-card-body\">\n                                <p class=\"study-card-meta\">${char.meaning || ''} \u2022 ${references}</p>\n                                <p class=\"study-card-desc\">${char.summary || ''}</p>\n                                <p class=\"study-card-meta\" style=\"margin-top: 0.5rem;\">\n                                    <strong>Book:</strong> ${char.book?.name || 'Unknown'}\n                                </p>\n                            </div>\n                            <div class=\"study-card-arrow\">\n                                <svg viewBox=\"0 0 24 24\">\n                                    <path d=\"M9 5l7 7-7 7\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/>\n                                </svg>\n                            </div>\n                        </a>\n                    </article>\n                `;\n            });\n            \n            html += '</div>';\n            resultsDiv.innerHTML = html;\n            \n        } else {\n            // No results\n            if (resultsCount) resultsCount.style.display = 'none';\n            \n            resultsDiv.innerHTML = `\n                <div class=\"empty-state\">\n                    <div class=\"empty-state-icon\">\uD83D\uDD0D</div>\n                    <div class=\"empty-state-text\">No Results Found</div>\n                    <div class=\"empty-state-subtext\">Try searching for different keywords</div>\n                </div>\n            `;\n        }\n    }\n\n    /**\n     * Calculate search relevance score\n     */\n    calculateRelevance(text, searchTerm) {\n        let score = 0;\n        const lowerText = text.toLowerCase();\n        const lowerSearch = searchTerm.toLowerCase();\n        \n        // Exact match\n        if (lowerText === lowerSearch) score += 100;\n        \n        // Starts with search term\n        if (lowerText.startsWith(lowerSearch)) score += 50;\n        \n        // Contains search term\n        if (lowerText.includes(lowerSearch)) score += 25;\n        \n        // Word boundary match\n        const regex = new RegExp(`\\\\b${lowerSearch}\\\\b`, 'i');\n        if (regex.test(text)) score += 30;\n        \n        return score;\n    }\n\n    /**\n     * Display search results (DOM fallback)\n     */\n    displaySearchResults(matches, searchTerm, resultsDiv) {\n        if (!resultsDiv) return;\n        \n        if (matches.length > 0) {\n            resultsDiv.innerHTML = `\n                <div class=\"section-header\">\n                    <h3 class=\"section-title\">Search Results</h3>\n                    <p class=\"section-subtitle\">${matches.length} results found for \"${searchTerm}\"</p>\n                </div>\n                <div class=\"studies-list\">\n                    ${matches.slice(0, 20).map(match => match.element.outerHTML).join('')}\n                </div>\n            `;\n        } else {\n            resultsDiv.innerHTML = `\n                <div class=\"empty-state\">\n                    <div class=\"empty-state-icon\">\uD83D\uDD0D</div>\n                    <div class=\"empty-state-text\">No Results Found</div>\n                    <div class=\"empty-state-subtext\">Try searching for different keywords</div>\n                </div>\n            `;\n        }\n        \n        // Scroll to results\n        resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n\n    /**\n     * Initialize mobile menu (complement to mobile-menu.js)\n     */\n    initMobileMenu() {\n        // Close mobile menu when clicking outside\n        document.addEventListener('click', (e) => {\n            const nav = document.getElementById('main-nav');\n            const toggle = document.querySelector('.mobile-menu-toggle');\n            const navLinks = document.querySelector('.nav-links');\n            \n            if (!nav?.contains(e.target) && toggle?.classList.contains('active')) {\n                toggle.classList.remove('active');\n                navLinks?.classList.remove('active');\n            }\n        });\n    }\n\n    /**\n     * Initialize accessibility features\n     */\n    initAccessibility() {\n        // Skip to content link\n        const skipLink = document.createElement('a');\n        skipLink.href = '#main-content';\n        skipLink.className = 'skip-link';\n        skipLink.textContent = 'Skip to main content';\n        document.body.insertBefore(skipLink, document.body.firstChild);\n        \n        // Escape key to close modals/menus\n        document.addEventListener('keydown', (e) => {\n            if (e.key === 'Escape') {\n                // Close mobile menu\n                const toggle = document.querySelector('.mobile-menu-toggle');\n                const navLinks = document.querySelector('.nav-links');\n                if (toggle?.classList.contains('active')) {\n                    toggle.classList.remove('active');\n                    navLinks?.classList.remove('active');\n                }\n                \n                // Trigger custom event for other components\n                document.dispatchEvent(new CustomEvent('escapePressed'));\n            }\n        });\n        \n        // Focus management for dropdowns\n        this.initDropdownAccessibility();\n    }\n\n    /**\n     * Initialize dropdown keyboard navigation\n     */\n    initDropdownAccessibility() {\n        const dropdowns = document.querySelectorAll('.dropdown');\n        \n        dropdowns.forEach(dropdown => {\n            const toggle = dropdown.querySelector('.dropdown-toggle');\n            const content = dropdown.querySelector('.dropdown-content');\n            const links = content?.querySelectorAll('a');\n            \n            if (!toggle || !content || !links) return;\n            \n            // Keyboard navigation\n            toggle.addEventListener('keydown', (e) => {\n                if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    const isOpen = content.style.display === 'block';\n                    content.style.display = isOpen ? 'none' : 'block';\n                    \n                    if (!isOpen && links.length > 0) {\n                        links[0].focus();\n                    }\n                }\n            });\n            \n            // Arrow key navigation within dropdown\n            links.forEach((link, index) => {\n                link.addEventListener('keydown', (e) => {\n                    if (e.key === 'ArrowDown') {\n                        e.preventDefault();\n                        const nextLink = links[index + 1] || links[0];\n                        nextLink.focus();\n                    } else if (e.key === 'ArrowUp') {\n                        e.preventDefault();\n                        const prevLink = links[index - 1] || links[links.length - 1];\n                        prevLink.focus();\n                    } else if (e.key === 'Escape') {\n                        content.style.display = 'none';\n                        toggle.focus();\n                    }\n                });\n            });\n        });\n    }\n\n    /**\n     * Utility: Fade in element\n     */\n    fadeIn(element, duration = 300) {\n        return new Promise((resolve) => {\n            element.style.opacity = '0';\n            element.style.transition = `opacity ${duration}ms ease`;\n            \n            requestAnimationFrame(() => {\n                element.style.opacity = '1';\n                setTimeout(resolve, duration);\n            });\n        });\n    }\n\n    /**\n     * Utility: Fade out element\n     */\n    fadeOut(element, duration = 300) {\n        return new Promise((resolve) => {\n            element.style.transition = `opacity ${duration}ms ease`;\n            element.style.opacity = '0';\n            setTimeout(resolve, duration);\n        });\n    }\n\n    /**\n     * Utility: Debounce function\n     */\n    debounce(func, wait) {\n        let timeout;\n        return function executedFunction(...args) {\n            const later = () => {\n                clearTimeout(timeout);\n                func(...args);\n            };\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n        };\n    }\n\n    /**\n     * Utility: Throttle function\n     */\n    throttle(func, limit) {\n        let inThrottle;\n        return function(...args) {\n            if (!inThrottle) {\n                func.apply(this, args);\n                inThrottle = true;\n                setTimeout(() => inThrottle = false, limit);\n            }\n        };\n    }\n}\n\n// Auto-initialize on DOM ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n        window.hubCommon = new HubCommon();\n    });\n} else {\n    window.hubCommon = new HubCommon();\n}\n\n// Export for ES6 modules\nexport default HubCommon;", "/**\n * Mobile Menu Handler for Project Context\n * Path: /assets/js/mobile-menu.js\n * Handles hamburger menu functionality for all hub pages\n * Updated with iOS-specific fixes and improved touch handling\n * \n * @version 2.0.0\n * @updated 2024\n * \n * Browser Support:\n * - iOS Safari 12+\n * - Chrome 80+\n * - Firefox 75+\n * - Samsung Internet 12+\n * - Edge 80+\n */\n\n(function() {\n    'use strict';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Early exit if we're in a desktop environment\n    const isDesktop = window.matchMedia('(min-width: 769px)').matches;\n    \n    // Create mobile menu overlay if it doesn't exist\n    let overlay = document.querySelector('.mobile-menu-overlay');\n    if (!overlay) {\n        overlay = document.createElement('div');\n        overlay.className = 'mobile-menu-overlay';\n        document.body.appendChild(overlay);\n    }\n\n    // Get menu elements\n    const menuToggle = document.querySelector('.mobile-menu-toggle');\n    const navLinks = document.querySelector('.nav-links');\n    const body = document.body;\n\n    // Check if elements exist\n    if (!menuToggle || !navLinks) {\n        console.warn('Mobile menu elements not found');\n        return;\n    }\n\n    // Track scroll position for iOS fix\n    let scrollPosition = 0;\n\n    // Toggle menu function\n    function toggleMenu() {\n        const isOpen = menuToggle.classList.contains('active');\n        \n        if (isOpen) {\n            closeMenu();\n        } else {\n            openMenu();\n        }\n    }\n\n    // Open menu\n    function openMenu() {\n        // Save scroll position before locking\n        scrollPosition = window.pageYOffset || document.documentElement.scrollTop;\n        \n        menuToggle.classList.add('active');\n        navLinks.classList.add('active');\n        overlay.classList.add('active');\n        body.classList.add('menu-open');\n        \n        // iOS-specific: Prevent background scrolling\n        body.style.position = 'fixed';\n        body.style.width = '100%';\n        body.style.top = `-${scrollPosition}px`;\n        body.style.overflow = 'hidden';\n        \n        // Set ARIA attributes for accessibility\n        menuToggle.setAttribute('aria-expanded', 'true');\n        navLinks.setAttribute('aria-hidden', 'false');\n    }\n\n    // Close menu\n    function closeMenu() {\n        // Don't do anything if menu is already closed\n        if (!menuToggle.classList.contains('active')) {\n            return;\n        }\n        \n        menuToggle.classList.remove('active');\n        navLinks.classList.remove('active');\n        overlay.classList.remove('active');\n        body.classList.remove('menu-open');\n        \n        // iOS-specific: Restore background scrolling\n        body.style.position = '';\n        body.style.width = '';\n        body.style.top = '';\n        body.style.overflow = '';\n        \n        // Restore scroll position\n        window.scrollTo(0, scrollPosition);\n        \n        // Set ARIA attributes for accessibility\n        menuToggle.setAttribute('aria-expanded', 'false');\n        navLinks.setAttribute('aria-hidden', 'true');\n    }\n\n    // Track if we've already handled this interaction to prevent double-firing\n    let handled = false;\n    \n    // Event listeners - Updated for better iOS compatibility\n    menuToggle.addEventListener('click', function(e) {\n        if (handled) return;\n        e.preventDefault();\n        e.stopPropagation();\n        toggleMenu();\n        handled = true;\n        setTimeout(() => { handled = false; }, 300);\n    });\n\n    // Add touchend event for better iOS response\n    menuToggle.addEventListener('touchend', function(e) {\n        if (handled) return;\n        e.preventDefault();\n        e.stopPropagation();\n        toggleMenu();\n        handled = true;\n        setTimeout(() => { handled = false; }, 300);\n    }, { passive: false });\n\n    // Close menu when clicking overlay\n    overlay.addEventListener('click', closeMenu);\n    \n    // Also handle touch on overlay for iOS\n    overlay.addEventListener('touchend', function(e) {\n        e.preventDefault();\n        closeMenu();\n    }, { passive: false });\n\n    // Handle dropdown toggles in mobile menu\n    const dropdownToggles = navLinks.querySelectorAll('.dropdown-toggle');\n    dropdownToggles.forEach(toggle => {\n        toggle.addEventListener('click', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            const dropdown = this.parentElement;\n            dropdown.classList.toggle('active');\n        });\n    });\n\n    // Close menu when clicking a link (but not dropdown toggles)\n    const menuLinks = navLinks.querySelectorAll('a:not(.dropdown-toggle)');\n    menuLinks.forEach(link => {\n        link.addEventListener('click', function(e) {\n            // Don't close if it's a hash link to current page\n            const href = this.getAttribute('href');\n            if (href && href !== '#' && !href.startsWith('#')) {\n                closeMenu();\n            }\n        });\n    });\n\n    // Close menu on escape key\n    document.addEventListener('keydown', function(e) {\n        if (e.key === 'Escape' && menuToggle.classList.contains('active')) {\n            closeMenu();\n        }\n    });\n\n    // Handle window resize\n    let resizeTimer;\n    window.addEventListener('resize', function() {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(function() {\n            // Close menu if window is resized to desktop size\n            if (window.innerWidth > 768 && menuToggle.classList.contains('active')) {\n                closeMenu();\n            }\n        }, 250);\n    });\n\n    // Prevent menu from staying open on iOS rotation\n    window.addEventListener('orientationchange', function() {\n        setTimeout(closeMenu, 100);\n    });\n\n    // iOS-specific fixes for smooth scrolling and bounce prevention\n    if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {\n        let startY = 0;\n        \n        navLinks.addEventListener('touchstart', function(e) {\n            startY = e.touches[0].pageY;\n        }, { passive: true });\n\n        navLinks.addEventListener('touchmove', function(e) {\n            const y = e.touches[0].pageY;\n            const scrollTop = navLinks.scrollTop;\n            const scrollHeight = navLinks.scrollHeight;\n            const height = navLinks.clientHeight;\n            \n            const isScrollingUp = y > startY && scrollTop === 0;\n            const isScrollingDown = y < startY && scrollTop + height >= scrollHeight;\n            \n            // Prevent rubber-band scrolling at edges\n            if (isScrollingUp || isScrollingDown) {\n                e.preventDefault();\n            }\n        }, { passive: false });\n\n        // Prevent swipe-to-go-back when menu is open\n        document.addEventListener('touchstart', function(e) {\n            if (menuToggle.classList.contains('active') && e.touches[0].clientX < 20) {\n                e.preventDefault();\n            }\n        }, { passive: false });\n    }\n\n    // Set initial ARIA attributes\n    menuToggle.setAttribute('aria-label', 'Toggle navigation menu');\n    menuToggle.setAttribute('aria-expanded', 'false');\n    navLinks.setAttribute('aria-hidden', 'true');\n    navLinks.setAttribute('aria-label', 'Main navigation');\n\n    // Performance: Use passive listeners where possible for better scroll performance\n    document.addEventListener('scroll', function() {\n        // Auto-close menu on scroll if needed\n        if (menuToggle.classList.contains('active') && window.scrollY > 100) {\n            // Uncomment if you want menu to close on scroll\n            // closeMenu();\n        }\n    }, { passive: true });\n\n    // Clean up function for SPAs or dynamic content\n    window.addEventListener('beforeunload', function() {\n        closeMenu();\n    });\n\n    // Handle visibility change (e.g., switching tabs)\n    document.addEventListener('visibilitychange', function() {\n        if (document.hidden && menuToggle.classList.contains('active')) {\n            closeMenu();\n        }\n    });\n\n    // Debug info\n    console.log('Mobile menu initialized successfully with iOS fixes');\n});\n\n/**\n * Fallback for older browsers without classList\n */\nif (!('classList' in document.createElement('_'))) {\n    console.error('This browser does not support classList. Please update your browser.');\n}\n(() => {\n  // ===== Mobile Nav \u2013 Update Section =====\n  // Safe handles for optional hamburger & drawer (adjust selectors to your HTML)\n  const menuToggle = document.querySelector('#menuToggle, .menu-toggle');\n  const drawer     = document.querySelector('#mobileNav, .mobile-nav, .nav-drawer');\n\n  // Close the drawer safely (no-ops if not present)\n  function closeMenu() {\n    if (menuToggle) menuToggle.classList.remove('active');\n    if (drawer)     drawer.classList.remove('open', 'active', 'visible');\n    // Also collapse any open dropdowns inside the nav\n    document.querySelectorAll('.nav-links .dropdown.open').forEach(li => {\n      li.classList.remove('open');\n      li.querySelector('.dropdown-toggle')?.setAttribute('aria-expanded', 'false');\n      const panel = li.querySelector('.dropdown-content');\n      if (panel) panel.style.display = '';\n    });\n  }\n\n  // --- Progressive enhancement: mobile dropdown toggle ---\n  document.querySelectorAll('.nav-links .dropdown > .dropdown-toggle').forEach((toggle) => {\n    toggle.addEventListener('click', (e) => {\n      if (window.matchMedia('(max-width: 768px)').matches) {\n        e.preventDefault();\n        const li = toggle.closest('.dropdown');\n        const panel = li?.querySelector('.dropdown-content');\n        const open = li?.classList.toggle('open');\n        if (open != null) toggle.setAttribute('aria-expanded', open ? 'true' : 'false');\n        if (panel) panel.style.display = open ? 'block' : 'none';\n      }\n    });\n  });\n\n  // --- Reset states when crossing mobile/desktop boundary ---\n  const mq = window.matchMedia('(max-width: 768px)');\n  const handleViewportChange = () => {\n    if (!mq.matches) {\n      // We are now on desktop: clear any mobile-only states\n      closeMenu();\n    }\n  };\n  // Fire once on load and again whenever the breakpoint is crossed\n  handleViewportChange();\n  mq.addEventListener ? mq.addEventListener('change', handleViewportChange)\n                      : mq.addListener(handleViewportChange); // old Safari fallback\n\n  // --- Performance: passive listeners & defensive cleanups ---\n  document.addEventListener('scroll', () => {\n    // Auto-close menu on scroll if desired\n    // if (menuToggle?.classList.contains('active') && window.scrollY > 100) closeMenu();\n  }, { passive: true });\n\n  window.addEventListener('beforeunload', () => {\n    // Clean up any open states on navigation\n    closeMenu();\n  });\n\n  document.addEventListener('visibilitychange', () => {\n    if (document.hidden && menuToggle?.classList.contains('active')) {\n      closeMenu();\n    }\n  });\n\n  // --- Debug ---\n  console.log('Mobile menu initialized successfully with iOS fixes & resize resets');\n\n  // --- Fallback for very old browsers (classList) ---\n  if (!('classList' in document.createElement('_'))) {\n    console.error('This browser lacks classList support. Please update your browser.');\n  }\n})(); // End IIFE\n})(); // End outer IIFE", "\n        import HubCore from './assets/js/hub-core.js';\n        import HubCommon from './assets/js/hub-common.js';\n        import './assets/js/mobile-menu.js';\n        \n        window.HubCore = HubCore;\n        window.HubCommon = HubCommon;\n      "],
  "mappings": "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",
  "names": ["character_loader_exports", "__export", "character_loader_default", "CharacterLoader", "init_character_loader", "__esmMin", "options", "manifestUrl", "response", "error", "bookId", "normalizedId", "data", "url", "char", "query", "allCharacters", "lowerQuery", "tag", "bookIds", "bookData", "bookSection", "loading", "HubCore", "options", "CharacterLoader", "error", "button", "e", "row", "anchor", "event", "section", "btn", "content", "targetContent", "category", "bookId", "target", "offsetTop", "loading", "dataEl", "data", "emptyMessage", "emptySubtext", "container", "bookName", "html", "women", "c", "named", "w", "unnamed", "char", "men", "unknown", "character", "hebrewText", "tags", "tag", "references", "meta", "href", "songLink", "lowerTag", "card", "index", "featuredGrid", "featured", "stat", "increment", "current", "timer", "toggle", "navLinks", "scrollTimeout", "nav", "message", "errorHtml", "hub_core_default", "HubCommon", "config", "nav", "lastScroll", "currentScroll", "anchor", "e", "targetId", "target", "targetPosition", "observerOptions", "observer", "entries", "entry", "stat", "section", "element", "duration", "steps", "increment", "current", "step", "timer", "filterButtons", "button", "filter", "btn", "item", "searchInput", "searchButton", "debounceTimer", "clearButton", "resultsDiv", "resultsCount", "searchTerm", "matches", "text", "a", "b", "error", "characters", "html", "char", "bookId", "profilePath", "hebrewText", "tags", "tag", "references", "score", "lowerText", "lowerSearch", "match", "toggle", "navLinks", "skipLink", "dropdown", "content", "links", "isOpen", "link", "index", "resolve", "func", "wait", "timeout", "args", "later", "limit", "inThrottle", "hub_common_default", "isDesktop", "overlay", "menuToggle", "navLinks", "body", "scrollPosition", "toggleMenu", "closeMenu", "openMenu", "handled", "e", "toggle", "link", "href", "resizeTimer", "startY", "y", "scrollTop", "scrollHeight", "height", "isScrollingUp", "isScrollingDown", "drawer", "li", "panel", "open", "mq", "handleViewportChange", "hub_core_default", "hub_common_default"]
}
