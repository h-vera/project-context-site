/* ============================================
   GLOBAL V3 STABLE - COMPLETE FILE
   Full v5.8 features with v5.7 gradient aesthetics
   No backdrop-filter dependency - works everywhere
   Version: 3.1.0-optimized
   Last Updated: 2024
   ============================================ */

/* ============================================
   DESIGN TOKENS - Single Source of Truth
   ============================================ */
:root {
  /* ===== SPACING SYSTEM ===== */
  --space-unit: 0.25rem;  /* 4px base */
  --space-xxs: calc(var(--space-unit) * 1);   /* 4px */
  --space-xs: calc(var(--space-unit) * 2);    /* 8px */
  --space-sm: calc(var(--space-unit) * 3);    /* 12px */
  --space-md: calc(var(--space-unit) * 4);    /* 16px */
  --space-lg: calc(var(--space-unit) * 6);    /* 24px */
  --space-xl: calc(var(--space-unit) * 8);    /* 32px */
  --space-xxl: calc(var(--space-unit) * 12);  /* 48px */
  --space-xxxl: calc(var(--space-unit) * 16); /* 64px */
  
  /* ===== TYPE SCALE ===== */
  --type-scale: 1.25;  /* Major third */
  --type-xxs: calc(1rem / var(--type-scale) / var(--type-scale));  /* 0.64rem */
  --type-xs: calc(1rem / var(--type-scale));                       /* 0.8rem */
  --type-sm: 0.875rem;                                              /* 14px */
  --type-base: 1rem;                                                /* 16px */
  --type-lg: calc(1rem * var(--type-scale));                       /* 1.25rem */
  --type-xl: calc(1rem * var(--type-scale) * var(--type-scale));   /* 1.56rem */
  --type-xxl: calc(1rem * pow(var(--type-scale), 3));              /* 1.95rem */
  --type-xxxl: calc(1rem * pow(var(--type-scale), 4));             /* 2.44rem */
  
  /* Font weights */
  --font-light: 300;
  --font-regular: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  --font-black: 900;
  
  /* ===== PREMIUM COLOR SYSTEM ===== */
  /* Your signature colors */
  --purple-hue: 271;
  --rose-hue: 350;
  --blue-hue: 191;
  --gold-hue: 43;
  
  /* Primary accent - Purple */
  --accent-purple: hsl(271, 91%, 38%);          /* #7209b7 */
  --accent-purple-light: hsl(271, 91%, 48%);
  --accent-purple-dark: hsl(271, 91%, 28%);
  --accent-purple-glass: hsla(271, 91%, 38%, 0.1);
  
  /* Secondary accent - Rose */
  --accent-rose: hsl(350, 84%, 49%);            /* #e11d48 */
  --accent-rose-light: hsl(350, 84%, 59%);
  --accent-rose-dark: hsl(350, 84%, 39%);
  --accent-rose-glass: hsla(350, 84%, 49%, 0.1);
  
  /* Tertiary accent - Blue */
  --accent-blue: hsl(191, 100%, 42%);           /* #00b4d8 */
  --accent-blue-light: hsl(191, 100%, 52%);
  --accent-blue-dark: hsl(191, 100%, 32%);
  --accent-blue-glass: hsla(191, 100%, 42%, 0.1);
  
  /* Special accent - Gold */
  --accent-gold: hsl(43, 74%, 49%);             /* #d4af37 */
  --accent-gold-light: hsl(43, 74%, 59%);
  --accent-gold-dark: hsl(43, 74%, 39%);
  --accent-gold-glass: hsla(43, 74%, 49%, 0.1);
  
  /* Semantic colors */
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --info: #3b82f6;
  
  /* Premium gradients */
  --gradient-hero: linear-gradient(135deg, var(--accent-purple), var(--accent-rose));
  --gradient-subtle: linear-gradient(135deg, var(--accent-purple-glass), var(--accent-rose-glass));
  --gradient-gold: linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light));
  --gradient-heaven: linear-gradient(180deg, #87CEEB 0%, #FFE5B4 100%);
  
  /* ===== STABLE DESIGN SYSTEM (No backdrop-filter) ===== */
  --surface-base: #ffffff;
  --surface-raised: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
  --surface-overlay: rgba(255, 255, 255, 0.95);
  --surface-accent: linear-gradient(135deg, rgba(114, 9, 183, 0.05), rgba(225, 29, 72, 0.03));
  
  /* ===== MOTION TOKENS ===== */
  --motion-sharp: cubic-bezier(0.4, 0.0, 0.6, 1);
  --motion-standard: cubic-bezier(0.4, 0.0, 0.2, 1);
  --motion-smooth: cubic-bezier(0.4, 0.0, 0.0, 1);
  --motion-spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --motion-elastic: cubic-bezier(0.68, -0.6, 0.32, 1.6);
  
  /* Duration scales */
  --duration-instant: 100ms;
  --duration-fast: 200ms;
  --duration-moderate: 400ms;
  --duration-slow: 600ms;
  --duration-slower: 800ms;
  --duration-glacial: 1200ms;
  
  /* ===== SHADOW SYSTEM ===== */
  --shadow-color: 271 30% 25%;
  --shadow-xs: 0 1px 2px hsl(var(--shadow-color) / 0.04);
  --shadow-sm: 0 2px 4px hsl(var(--shadow-color) / 0.06);
  --shadow-md: 0 4px 8px hsl(var(--shadow-color) / 0.08);
  --shadow-lg: 0 8px 16px hsl(var(--shadow-color) / 0.10);
  --shadow-xl: 0 16px 32px hsl(var(--shadow-color) / 0.12);
  --shadow-xxl: 0 24px 48px hsl(var(--shadow-color) / 0.14);
  
  /* Premium layered shadows */
  --shadow-premium: 
    0 2px 4px hsl(var(--shadow-color) / 0.02),
    0 4px 8px hsl(var(--shadow-color) / 0.04),
    0 8px 16px hsl(var(--shadow-color) / 0.06),
    0 16px 32px hsl(var(--shadow-color) / 0.08);
  
  /* Gradient shadow (v5.7 style) */
  --shadow-gradient: 
    0 10px 40px rgba(114, 9, 183, 0.15),
    0 2px 10px rgba(0, 0, 0, 0.08);
  
  /* ===== LAYOUT TOKENS ===== */
  --container-xs: 475px;
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
  --container-xxl: 1536px;
  
  /* Component specific */
  --nav-height: 64px;
  --mobile-tabs-height: 56px;
  --sidebar-width: 280px;
  --card-radius: 16px;
  --button-radius: 9999px;
  
  /* Z-index scale */
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-fixed: 300;
  --z-modal-backdrop: 400;
  --z-modal: 500;
  --z-popover: 600;
  --z-tooltip: 700;
  --z-toast: 800;
  --z-overlay: 900;
  --z-max: 999;
  
  /* ===== JavaScript Integration Variables ===== */
  --js-scroll-offset: 80px;  /* Used by smooth scroll */
  --js-swipe-threshold: 50px; /* Used by gesture detection */
  --js-magnetic-strength: 0.1; /* Magnetic effect strength */
}

/* ============================================
   RESET & BASE
   ============================================ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
  text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  height: 100%;
}

body {
  min-height: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  font-size: var(--type-base);
  line-height: 1.6;
  color: hsl(0, 0%, 13%);
  background: linear-gradient(180deg, #fafafa 0%, #f3f4f6 100%);
  position: relative;
  overflow-x: hidden;
}

/* Performance optimizations */
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
  height: auto;
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================ */
.theology-card,
.timeline-item,
.mobile-section-tabs,
.smart-progress-nav,
.glass-card,
.glass-premium {
  will-change: auto; /* Let browser decide */
  -webkit-transform: translateZ(0); /* Force GPU layer */
  backface-visibility: hidden; /* Prevent flicker */
  transform-style: preserve-3d;
}

/* Only use will-change when actually animating */
.theology-card:hover,
.timeline-item:hover,
.glass-card:hover,
.glass-premium:hover {
  will-change: transform, box-shadow;
}

/* ============================================
   SVG ICON LIBRARY - EMBEDDED
   ============================================ */

/* Base64 encoded SVG icons for maximum compatibility */
.icon-svg::before {
  content: '';
  display: inline-block;
  width: 1em;
  height: 1em;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

/* Navigation Icons */
.icon-svg[data-icon="overview"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='3' width='18' height='18' rx='2'/%3E%3Cline x1='9' y1='9' x2='15' y2='9'/%3E%3Cline x1='9' y1='15' x2='15' y2='15'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="narrative"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M4 19.5A2.5 2.5 0 0 1 6.5 17H20'/%3E%3Cpath d='M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="literary"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z'/%3E%3Cpolyline points='14 2 14 8 20 8'/%3E%3Cline x1='16' y1='13' x2='8' y2='13'/%3E%3Cline x1='16' y1='17' x2='8' y2='17'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="themes"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Ccircle cx='12' cy='12' r='6'/%3E%3Ccircle cx='12' cy='12' r='2'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="theology"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="application"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpolyline points='12 6 12 12 16 14'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="questions"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpath d='M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3'/%3E%3Cline x1='12' y1='17' x2='12.01' y2='17'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="crown"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M12 6l4 6 5-4-2 10H5L3 8l5 4 4-6z'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="scroll"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M9 18V5l12-2v13'/%3E%3Ccircle cx='6' cy='18' r='3'/%3E%3Ccircle cx='18' cy='16' r='3'/%3E%3C/svg%3E");
}

/* UI Icons */
.icon-svg[data-icon="menu"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cline x1='3' y1='12' x2='21' y2='12'/%3E%3Cline x1='3' y1='6' x2='21' y2='6'/%3E%3Cline x1='3' y1='18' x2='21' y2='18'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="close"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cline x1='18' y1='6' x2='6' y2='18'/%3E%3Cline x1='6' y1='6' x2='18' y2='18'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="chevron-up"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpolyline points='18 15 12 9 6 15'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="chevron-down"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="arrow-right"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cline x1='5' y1='12' x2='19' y2='12'/%3E%3Cpolyline points='12 5 19 12 12 19'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="arrow-left"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cline x1='19' y1='12' x2='5' y2='12'/%3E%3Cpolyline points='12 19 5 12 12 5'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="home"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z'/%3E%3Cpolyline points='9 22 9 12 15 12 15 22'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="search"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cpath d='m21 21-4.35-4.35'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="user"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="users"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='9' cy='7' r='4'/%3E%3Cpath d='M23 21v-2a4 4 0 0 0-3-3.87'/%3E%3Cpath d='M16 3.13a4 4 0 0 1 0 7.75'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="star"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpolygon points='12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="heart"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="check"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpolyline points='20 6 9 17 4 12'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="x"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cline x1='18' y1='6' x2='6' y2='18'/%3E%3Cline x1='6' y1='6' x2='18' y2='18'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="info"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cline x1='12' y1='16' x2='12' y2='12'/%3E%3Cline x1='12' y1='8' x2='12.01' y2='8'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="alert"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z'/%3E%3Cline x1='12' y1='9' x2='12' y2='13'/%3E%3Cline x1='12' y1='17' x2='12.01' y2='17'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="settings"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='3'/%3E%3Cpath d='M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="download"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'/%3E%3Cpolyline points='7 10 12 15 17 10'/%3E%3Cline x1='12' y1='15' x2='12' y2='3'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="external"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'/%3E%3Cpolyline points='15 3 21 3 21 9'/%3E%3Cline x1='10' y1='14' x2='21' y2='3'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="calendar"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'/%3E%3Cline x1='16' y1='2' x2='16' y2='6'/%3E%3Cline x1='8' y1='2' x2='8' y2='6'/%3E%3Cline x1='3' y1='10' x2='21' y2='10'/%3E%3C/svg%3E");
}

.icon-svg[data-icon="clock"]::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpolyline points='12 6 12 12 16 14'/%3E%3C/svg%3E");
}

/* Icon color adjustments based on context */
.tab-icon .icon-svg::before,
.nav-icon .icon-svg::before {
  filter: var(--icon-filter, none);
}

.tab-item.active .icon-svg::before {
  filter: brightness(1.2);
}

/* Dark mode icon color adjustments */
@media (prefers-color-scheme: dark) {
  .icon-svg::before {
    filter: brightness(1.2);
  }
  
  .section-icon .icon-svg::before {
    filter: brightness(1);
  }
}

/* Icon sizing system */
.icon-sm .icon-svg::before { width: 16px; height: 16px; }
.icon-md .icon-svg::before { width: 20px; height: 20px; }
.icon-lg .icon-svg::before { width: 24px; height: 24px; }
.icon-xl .icon-svg::before { width: 32px; height: 32px; }

/* ============================================
   ICON SYSTEM STYLES - SIMPLIFIED
   ============================================ */

/* SVG Icon Wrapper */
.icon-svg {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1em;
  height: 1em;
  vertical-align: middle;
}

.icon-svg svg {
  width: 100%;
  height: 100%;
  fill: currentColor;
  stroke: currentColor;
}

/* Icon in buttons and tabs */
.tab-icon .icon-svg,
.nav-icon .icon-svg,
.dropdown-icon .icon-svg {
  width: 1.25em;
  height: 1.25em;
}

/* Progress section icons */
.progress-section-icon .icon-svg {
  width: 100%;
  height: 100%;
}

/* Section title icons */
.section-icon .icon-svg {
  width: 100%;
  height: 100%;
  color: white;
}

.section-icon .icon-svg svg {
  stroke: white;
  fill: none;
}

/* Emoji fallback styling */
.icon-emoji {
  display: inline-block;
  vertical-align: middle;
  line-height: 1;
}

/* Icon animations */
.icon-svg svg {
  transition: all var(--duration-fast) var(--motion-standard);
}

.tab-item:hover .icon-svg svg,
.nav-link:hover .icon-svg svg {
  transform: scale(1.1);
}

.tab-item.active .icon-svg svg {
  transform: scale(1.15);
}

/* Dark mode icon adjustments */
@media (prefers-color-scheme: dark) {
  .icon-svg svg {
    stroke: currentColor;
  }
  
  .section-icon .icon-svg svg {
    stroke: white;
  }
}

/* ============================================
   TYPOGRAPHY SYSTEM
   ============================================ */
h1, h2, h3, h4, h5, h6 {
  font-weight: var(--font-bold);
  line-height: 1.2;
  letter-spacing: -0.02em;
  color: hsl(0, 0%, 7%);
}

h1 { 
  font-size: var(--type-xxxl);
  font-weight: var(--font-black);
}

h2 { 
  font-size: var(--type-xxl);
  margin: var(--space-lg) 0 var(--space-md);
}

h3 { 
  font-size: var(--type-xl);
  margin: var(--space-md) 0 var(--space-sm);
}

h4 { 
  font-size: var(--type-lg);
  font-weight: var(--font-semibold);
}

p {
  margin-bottom: var(--space-md);
}

/* Premium text effects */
.text-gradient {
  background: var(--gradient-hero);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-animated {
  background: linear-gradient(
    90deg,
    var(--accent-purple),
    var(--accent-rose),
    var(--accent-purple)
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: shimmer 3s linear infinite;
}

@keyframes shimmer {
  to { background-position: 200% center; }
}

/* Hebrew/Greek text */
.hebrew {
  font-family: 'SBL Hebrew', 'Ezra SIL', serif;
  direction: rtl;
  font-size: 1.1em;
  color: var(--accent-purple);
}

.greek {
  font-family: 'SBL Greek', 'Times New Roman', serif;
  font-size: 1.1em;
  color: var(--accent-purple);
}

/* ============================================
   STABLE CARD COMPONENTS (v5.7 Style)
   ============================================ */

/* Base card - no backdrop-filter needed */
.glass-card {
  background: var(--surface-raised);
  border-radius: var(--card-radius);
  border: 1px solid rgba(0, 0, 0, 0.06);
  box-shadow: var(--shadow-md);
  padding: var(--space-lg);
  position: relative;
  overflow: hidden;
  transition: all var(--duration-moderate) var(--motion-standard);
}

/* Gradient accent overlay */
.glass-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--gradient-subtle);
  opacity: 0.3;
  pointer-events: none;
}

.glass-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* Premium variant with gradient borders */
.glass-premium {
  background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
  border-radius: var(--card-radius);
  padding: var(--space-xl);
  position: relative;
  box-shadow: var(--shadow-gradient);
}

/* Animated gradient border */
.glass-premium::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: var(--gradient-hero);
  border-radius: var(--card-radius);
  z-index: -1;
  opacity: 0.1;
  transition: opacity var(--duration-fast) var(--motion-smooth);
}

.glass-premium:hover::before {
  opacity: 0.2;
}

/* Glass with noise texture - now just decorative gradient */
.glass-textured::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.5) 50%, transparent 70%),
    url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  border-radius: inherit;
  mix-blend-mode: overlay;
}

/* ============================================
   CHARACTER PROFILE COMPONENTS
   ============================================ */

/* Main content container */
.content-section {
  max-width: var(--container-lg);
  margin: 0 auto;
  padding: calc(var(--nav-height) + var(--space-xxl)) var(--space-lg) var(--space-xxl);
  min-height: 100vh;
  position: relative;
  /* iOS Safe Area Support */
  padding-left: env(safe-area-inset-left, var(--space-lg));
  padding-right: env(safe-area-inset-right, var(--space-lg));
}

@supports (padding: max(0px)) {
  .content-section {
    padding-left: max(var(--space-lg), env(safe-area-inset-left));
    padding-right: max(var(--space-lg), env(safe-area-inset-right));
  }
}

/* Section title with icon */
.section-title {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin: var(--space-xl) 0 var(--space-lg);
  font-size: var(--type-xxl);
  font-weight: var(--font-black);
  color: hsl(0, 0%, 7%);
}

.section-icon {
  font-size: 1.2em;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  background: var(--gradient-hero);
  border-radius: 12px;
  transform: rotate(-5deg);
  transition: transform var(--duration-moderate) var(--motion-spring);
}

.section-title:hover .section-icon {
  transform: rotate(5deg) scale(1.1);
}

/* Theology card component */
.theology-card {
  background: linear-gradient(135deg, #ffffff 0%, #fafafa 50%, #f9fafb 100%);
  border-radius: var(--card-radius);
  border: 1px solid rgba(114, 9, 183, 0.08);
  padding: var(--space-xl);
  margin-bottom: var(--space-lg);
  position: relative;
  box-shadow: 
    0 4px 6px rgba(0, 0, 0, 0.04),
    0 10px 20px rgba(114, 9, 183, 0.08);
  transition: all var(--duration-moderate) var(--motion-standard);
  transform-style: preserve-3d;
  will-change: transform;
}

/* Gradient accent bar */
.theology-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--gradient-hero);
  border-radius: var(--card-radius) var(--card-radius) 0 0;
  opacity: 0.8;
}

/* Premium hover effect */
.theology-card::before {
  content: '';
  position: absolute;
  inset: -1px;
  background: var(--gradient-hero);
  border-radius: var(--card-radius);
  opacity: 0;
  transition: opacity var(--duration-fast) var(--motion-smooth);
  z-index: -1;
}

.theology-card:hover::before {
  opacity: 0.1;
}

.theology-card:hover {
  transform: translateY(-4px) translateZ(20px);
  box-shadow: 
    0 20px 60px rgba(114, 9, 183, 0.15),
    0 15px 40px rgba(225, 29, 72, 0.1);
}

/* Card heading */
.theology-card h3 {
  color: var(--accent-purple);
  margin-bottom: var(--space-md);
  font-size: var(--type-xl);
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

/* Key insight box */
.key-insight {
  background: linear-gradient(135deg, 
    rgba(114, 9, 183, 0.08) 0%, 
    rgba(225, 29, 72, 0.04) 100%
  );
  border-left: 4px solid var(--accent-purple);
  padding: var(--space-md) var(--space-lg);
  margin: var(--space-lg) 0;
  border-radius: 0 var(--card-radius) var(--card-radius) 0;
  position: relative;
  overflow: hidden;
}

.key-insight::before {
  content: '💡';
  position: absolute;
  right: var(--space-md);
  top: 50%;
  transform: translateY(-50%);
  font-size: 2em;
  opacity: 0.1;
}

.key-insight strong {
  display: block;
  color: var(--accent-purple);
  margin-bottom: var(--space-xs);
  font-size: var(--type-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Timeline component */
.timeline {
  position: relative;
  padding-left: var(--space-xl);
  margin: var(--space-lg) 0;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--gradient-hero);
  border-radius: 3px;
}

.timeline-item {
  position: relative;
  padding: var(--space-md);
  margin-bottom: var(--space-md);
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.9) 0%,
    rgba(250, 250, 255, 0.85) 100%
  );
  border-radius: var(--card-radius);
  border: 1px solid rgba(114, 9, 183, 0.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  animation: slideInFromLeft var(--duration-slow) var(--motion-spring) backwards;
  animation-delay: calc(var(--index, 0) * 100ms);
  transition: all var(--duration-moderate) var(--motion-standard);
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: calc(-1 * var(--space-xl) - 5px);
  top: var(--space-lg);
  width: 12px;
  height: 12px;
  background: var(--accent-purple);
  border: 3px solid white;
  border-radius: 50%;
  box-shadow: 0 0 0 3px var(--accent-purple-glass);
  transition: all var(--duration-fast) var(--motion-spring);
}

.timeline-item:hover {
  transform: translateX(8px);
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.98) 0%,
    rgba(250, 250, 255, 0.95) 100%
  );
  box-shadow: 0 4px 12px rgba(114, 9, 183, 0.08);
}

.timeline-item:hover::before {
  background: var(--accent-rose);
  transform: scale(1.3);
  box-shadow: 0 0 0 6px var(--accent-rose-glass);
}

@keyframes slideInFromLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Grid systems */
.grid-2 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-lg);
}

.grid-3 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--space-lg);
}

.grid-4 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-md);
}

/* Panel component */
.panel {
  background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
  border-radius: calc(var(--card-radius) / 2);
  padding: var(--space-md);
  border: 1px solid rgba(0, 0, 0, 0.05);
  height: 100%;
  transition: all var(--duration-fast) var(--motion-standard);
}

.panel:hover {
  background: linear-gradient(180deg, #ffffff 0%, #f9fafb 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.06);
}

.panel h4 {
  color: var(--accent-purple);
  margin-bottom: var(--space-sm);
  font-size: var(--type-base);
}

/* Tags */
.tag {
  display: inline-flex;
  align-items: center;
  min-height: 32px;
  padding: var(--space-xs) var(--space-md);
  background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
  border: 1px solid rgba(114, 9, 183, 0.15);
  border-radius: var(--button-radius);
  font-size: var(--type-sm);
  font-weight: var(--font-medium);
  margin: var(--space-xs);
  transition: all var(--duration-fast) var(--motion-standard);
  cursor: default;
}

.tag:hover {
  background: var(--gradient-hero);
  color: white;
  border-color: transparent;
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 4px 8px rgba(114, 9, 183, 0.2);
}

.tag.primary {
  background: var(--gradient-hero);
  color: white;
  border-color: transparent;
  font-weight: var(--font-semibold);
}

/* ============================================
   MOBILE SECTION TABS - Missing from global-v3.css
   Add this to global-v3.css after line 759 where .mobile-section-tabs is referenced
   ============================================ */

/* Mobile Section Tabs Base */
.mobile-section-tabs {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 56px;
  background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
  border-top: 1px solid rgba(114, 9, 183, 0.1);
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.08);
  z-index: 200;
  transform: translateY(0);
  transition: transform 0.3s ease;
  will-change: transform;
  -webkit-transform: translateZ(0);
  overscroll-behavior: contain;
}

/* iOS Safe Area Support */
@supports (padding: max(0px)) {
  .mobile-section-tabs {
    padding-bottom: env(safe-area-inset-bottom, 0);
    height: calc(56px + env(safe-area-inset-bottom, 0));
  }
}

/* Show on mobile only */
@media (max-width: 768px) {
  .mobile-section-tabs {
    display: flex;
  }
  
  /* Adjust content padding to account for tabs */
  .content-section {
    padding-bottom: calc(56px + env(safe-area-inset-bottom, 0) + 2rem);
  }
}

/* Hide when scrolling down */
.mobile-section-tabs.hidden {
  transform: translateY(100%);
}

/* Inner container for tabs */
.mobile-section-tabs-inner,
.tabs-container {
  display: flex;
  align-items: center;
  justify-content: space-around;
  width: 100%;
  height: 100%;
  padding: 0 8px;
  overflow-x: auto;
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
}

.mobile-section-tabs-inner::-webkit-scrollbar,
.tabs-container::-webkit-scrollbar {
  display: none;
}

/* Individual Tab Items */
.tab-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 64px;
  height: 100%;
  padding: 8px 4px;
  color: hsla(0, 0%, 20%, 0.7);
  text-decoration: none;
  transition: all 0.2s ease;
  position: relative;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  background: none;
  border: none;
  font-family: inherit;
}

/* Active indicator bar */
.tab-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%) scaleX(0);
  width: 32px;
  height: 3px;
  background: linear-gradient(135deg, var(--accent-purple, #7209b7), var(--accent-rose, #e11d48));
  border-radius: 0 0 3px 3px;
  transition: transform 0.2s ease;
}

/* Active state */
.tab-item.active {
  color: var(--accent-purple, #7209b7);
}

.tab-item.active::before {
  transform: translateX(-50%) scaleX(1);
}

/* Tab Icons */
.tab-icon {
  font-size: 20px;
  margin-bottom: 2px;
  transition: transform 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
}

/* Icon SVG support */
.tab-icon .icon-svg {
  width: 20px;
  height: 20px;
}

.tab-icon .icon-svg svg {
  width: 100%;
  height: 100%;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
}

/* Tab Labels */
.tab-label {
  font-size: 10px;
  font-weight: 500;
  white-space: nowrap;
  margin-top: 2px;
}

/* Touch feedback */
.tab-item:active .tab-icon {
  transform: scale(0.9);
}

.tab-item.active .tab-icon {
  transform: scale(1.1);
}

/* Hover effects for devices with hover capability */
@media (hover: hover) {
  .tab-item:hover {
    color: var(--accent-purple, #7209b7);
  }
  
  .tab-item:hover .tab-icon {
    transform: scale(1.05);
  }
}

/* Color adjustments for active tab */
.tab-item.active .icon-svg svg {
  stroke: var(--accent-purple, #7209b7);
}

/* Optional: Gradient background for active tab */
.tab-item.active {
  background: linear-gradient(180deg, 
    rgba(114, 9, 183, 0.05) 0%, 
    rgba(114, 9, 183, 0) 100%
  );
  border-radius: 8px 8px 0 0;
}

/* Ensure proper stacking */
.mobile-section-tabs * {
  z-index: 201;
}

/* Animation for showing/hiding */
@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.mobile-section-tabs.show {
  animation: slideUp 0.3s ease forwards;
}

/* Dark mode support (if implementing) */
@media (prefers-color-scheme: dark) {
  .mobile-section-tabs {
    background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
    border-top-color: rgba(114, 9, 183, 0.2);
  }
  
  .tab-item {
    color: hsla(0, 0%, 80%, 0.7);
  }
  
  .tab-item.active {
    color: var(--accent-purple-light, #8b2dd1);
    background: linear-gradient(180deg, 
      rgba(114, 9, 183, 0.1) 0%, 
      rgba(114, 9, 183, 0) 100%
    );
  }
}

/* Specific adjustments for iOS */
.is-ios .mobile-section-tabs {
  /* Account for iOS bottom bar */
  padding-bottom: max(env(safe-area-inset-bottom, 0), 20px);
  height: calc(56px + max(env(safe-area-inset-bottom, 0), 20px));
}

/* Prevent layout shift when tabs appear */
body.has-mobile-tabs {
  padding-bottom: calc(56px + env(safe-area-inset-bottom, 0));
}

/* Optional: Swipe indicator */
.mobile-section-tabs::after {
  content: '';
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.8) 100%
  );
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* Show swipe indicator when scrollable */
.mobile-section-tabs.scrollable::after {
  opacity: 1;
}

/* Accessibility improvements */
.tab-item:focus {
  outline: 2px solid var(--accent-purple, #7209b7);
  outline-offset: -2px;
  border-radius: 8px;
}

.tab-item:focus:not(:focus-visible) {
  outline: none;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .mobile-section-tabs,
  .tab-item,
  .tab-item::before,
  .tab-icon {
    transition: none;
    animation: none;
  }
}
/* ============================================
   SMART PROGRESS NAVIGATOR (Desktop)
   ============================================ */
.smart-progress-nav {
  position: fixed;
  right: var(--space-lg);
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 40vh;
  max-height: 400px;
  background: rgba(0, 0, 0, 0.05);
  border-radius: 4px;
  z-index: var(--z-dropdown);
  transition: all var(--duration-moderate) var(--motion-standard);
  cursor: pointer;
}

@media (max-width: 1024px) {
  .smart-progress-nav {
    display: none;
  }
}

.smart-progress-nav:hover {
  width: 200px;
  background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
  box-shadow: var(--shadow-xl);
  border-radius: var(--card-radius);
  border: 1px solid rgba(114, 9, 183, 0.1);
}

.progress-track {
  position: absolute;
  left: 0;
  top: 0;
  width: 4px;
  height: 100%;
  background: var(--gradient-hero);
  border-radius: 4px;
  transform-origin: top;
  transform: scaleY(var(--progress, 0));
  transition: transform var(--duration-fast) var(--motion-smooth);
}

.smart-progress-nav:hover .progress-track {
  opacity: 0.2;
  width: 100%;
}

.progress-sections {
  display: none;
  flex-direction: column;
  height: 100%;
  padding: var(--space-md);
  opacity: 0;
}

.smart-progress-nav:hover .progress-sections {
  display: flex;
  animation: fadeIn var(--duration-fast) var(--motion-smooth) forwards;
  animation-delay: var(--duration-instant);
}

@keyframes fadeIn {
  to {
    opacity: 1;
  }
}

.progress-section {
  flex: 1;
  display: flex;
  align-items: center;
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--card-radius);
  transition: all var(--duration-fast) var(--motion-standard);
  position: relative;
  cursor: pointer;
}

.progress-section:hover {
  background: var(--accent-purple-glass);
}

.progress-section.active {
  background: var(--gradient-subtle);
}

.progress-section-icon {
  width: 24px;
  height: 24px;
  margin-right: var(--space-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
}

.progress-section-label {
  font-size: var(--type-sm);
  font-weight: var(--font-medium);
  color: hsl(0, 0%, 20%);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.progress-section-percent {
  margin-left: auto;
  font-size: var(--type-xs);
  color: var(--accent-purple);
  font-weight: var(--font-semibold);
}

/* ============================================
   PREMIUM NAVIGATION STYLES
   ============================================ */
.nav-premium {
  /* Inherits from base nav styles */
}

.nav-premium .magnetic {
  transition: transform var(--duration-fast) var(--motion-spring);
}

.nav-premium .dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 240px;
  background: var(--surface-raised);
  border-radius: var(--card-radius);
  box-shadow: var(--shadow-xl);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all var(--duration-fast) var(--motion-standard);
  z-index: var(--z-dropdown);
}

.nav-premium .has-dropdown.active .dropdown-menu,
.nav-premium .has-dropdown:hover .dropdown-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.dropdown-item {
  display: flex;
  align-items: center;
  padding: var(--space-sm) var(--space-md);
  color: hsl(0, 0%, 20%);
  text-decoration: none;
  transition: all var(--duration-fast) var(--motion-standard);
}

.dropdown-item:hover {
  background: var(--accent-purple-glass);
  color: var(--accent-purple);
}

.mobile-drawer {
  position: fixed;
  top: 0;
  right: -100%;
  width: 80%;
  max-width: 400px;
  height: 100%;
  background: var(--surface-base);
  transition: right var(--duration-moderate) var(--motion-standard);
  z-index: var(--z-modal);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.mobile-drawer.open {
  right: 0;
  box-shadow: -10px 0 40px rgba(0, 0, 0, 0.1);
}

.nav-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  opacity: 0;
  visibility: hidden;
  transition: all var(--duration-fast) var(--motion-standard);
  z-index: var(--z-modal-backdrop);
}

.nav-overlay.active {
  opacity: 1;
  visibility: visible;
}

.menu-button {
  display: none;
  width: 48px;
  height: 48px;
  background: transparent;
  border: none;
  cursor: pointer;
  position: relative;
  z-index: var(--z-fixed);
}

@media (max-width: 768px) {
  .menu-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .nav-links {
    display: none;
  }
}

.menu-icon {
  width: 24px;
  height: 20px;
  position: relative;
}

.menu-icon span {
  position: absolute;
  left: 0;
  width: 100%;
  height: 2px;
  background: var(--accent-purple);
  transition: all var(--duration-fast) var(--motion-spring);
}

.menu-icon span:nth-child(1) {
  top: 0;
}

.menu-icon span:nth-child(2) {
  top: 50%;
  transform: translateY(-50%);
}

.menu-icon span:nth-child(3) {
  bottom: 0;
}

.menu-button.active .menu-icon span:nth-child(1) {
  transform: rotate(45deg) translateY(9px);
}

.menu-button.active .menu-icon span:nth-child(2) {
  opacity: 0;
}

.menu-button.active .menu-icon span:nth-child(3) {
  transform: rotate(-45deg) translateY(-9px);
}

/* ============================================
   ANIMATIONS & INTERACTIONS
   ============================================ */

/* Scroll animations */
.animate-on-scroll {
  opacity: 0;
  transform: translateY(20px);
  transition: all var(--duration-slow) var(--motion-standard);
}

.animate-on-scroll.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Stagger children animations */
.stagger-children > * {
  opacity: 0;
  transform: translateY(10px);
  transition: all var(--duration-moderate) var(--motion-standard);
}

.stagger-children.visible > * {
  opacity: 1;
  transform: translateY(0);
}

.stagger-children.visible > *:nth-child(1) { transition-delay: 0ms; }
.stagger-children.visible > *:nth-child(2) { transition-delay: 50ms; }
.stagger-children.visible > *:nth-child(3) { transition-delay: 100ms; }
.stagger-children.visible > *:nth-child(4) { transition-delay: 150ms; }
.stagger-children.visible > *:nth-child(5) { transition-delay: 200ms; }
.stagger-children.visible > *:nth-child(6) { transition-delay: 250ms; }
.stagger-children.visible > *:nth-child(7) { transition-delay: 300ms; }
.stagger-children.visible > *:nth-child(8) { transition-delay: 350ms; }

/* Premium hover effects */
.hover-lift {
  transition: transform var(--duration-moderate) var(--motion-spring);
  will-change: auto; /* Let browser decide */
  cursor: pointer;
}

.hover-lift:hover {
  transform: translateY(-4px) scale(1.02);
  will-change: transform; /* Only during hover */
}

/* 3D card effect */
.card-3d {
  transform-style: preserve-3d;
  transform: perspective(1000px);
  transition: transform var(--duration-moderate) var(--motion-spring);
}

.card-3d:hover {
  transform: perspective(1000px) rotateX(-5deg) rotateY(5deg) translateZ(20px);
}

/* ============================================
   INTERACTIVE TAG BUBBLES
   ============================================ */
.tag {
  display: inline-flex;
  align-items: center;
  min-height: 36px;
  padding: var(--space-xs) var(--space-md);
  background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
  border: 1px solid rgba(114, 9, 183, 0.15);
  border-radius: var(--button-radius);
  font-size: var(--type-sm);
  font-weight: var(--font-medium);
  margin: var(--space-xs);
  transition: all var(--duration-fast) var(--motion-standard);
  cursor: default;
  position: relative;
  overflow: hidden;
  /* Prevent text selection on double-click */
  user-select: none;
  -webkit-user-select: none;
}

/* Shimmer effect on hover */
.tag::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  transition: left var(--duration-moderate) var(--motion-standard);
  pointer-events: none;
}

.tag:hover {
  background: var(--gradient-hero);
  color: white;
  border-color: transparent;
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 4px 8px rgba(114, 9, 183, 0.2);
  cursor: pointer;
}

.tag:hover::before {
  left: 100%;
}

/* Active state for touch devices */
.tag:active {
  transform: translateY(-1px) scale(1.03);
}

/* Primary tags */
.tag.primary {
  background: var(--gradient-hero);
  color: white;
  border-color: transparent;
  font-weight: var(--font-semibold);
  box-shadow: 0 2px 4px rgba(114, 9, 183, 0.15);
}

.tag.primary:hover {
  transform: translateY(-3px) scale(1.08);
  box-shadow: 0 6px 12px rgba(114, 9, 183, 0.3);
}

/* Combination: tag with hover-lift */
.tag.hover-lift {
  transition: all var(--duration-moderate) var(--motion-spring);
}

.tag.hover-lift:hover {
  transform: translateY(-4px) scale(1.08);
  box-shadow: 0 8px 16px rgba(114, 9, 183, 0.25);
}

/* ============================================
   MAGNETIC HOVER EFFECT
   ============================================ */
.magnetic {
  position: relative;
  transition: transform var(--duration-fast) var(--motion-spring);
}

.magnetic:hover {
  transform: translate(
    calc(var(--mouse-x, 0) * 0.3),
    calc(var(--mouse-y, 0) * 0.3)
  );
}

/* ============================================
   RIPPLE EFFECT
   ============================================ */
@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

.ripple {
  position: relative;
  overflow: hidden;
}

.ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.ripple:active::after {
  width: 300px;
  height: 300px;
  animation: ripple 0.6s ease-out;
}

/* ============================================
   PULSE ANIMATION
   ============================================ */
@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(114, 9, 183, 0.4);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(114, 9, 183, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(114, 9, 183, 0);
  }
}

.pulse {
  animation: pulse 2s infinite;
}

.pulse:hover {
  animation: none;
}

/* ============================================
   GLOW EFFECT
   ============================================ */
.glow {
  transition: all var(--duration-moderate) var(--motion-standard);
}

.glow:hover {
  box-shadow: 
    0 0 20px rgba(114, 9, 183, 0.3),
    0 0 40px rgba(114, 9, 183, 0.2),
    0 0 60px rgba(114, 9, 183, 0.1);
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================ */
/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .tag::before {
    display: none;
  }
  
  .hover-lift:hover,
  .tag:hover,
  .card-3d:hover {
    transform: none;
  }
}

/* Touch device optimizations */
@media (hover: none) {
  .hover-lift:active {
    transform: translateY(-2px) scale(1.01);
  }
  
  .tag:active {
    transform: translateY(-1px) scale(1.03);
  }
  
  /* Disable hover effects that don't work well on touch */
  .magnetic:hover {
    transform: none;
  }
}

/* ============================================
   NAVIGATION
   ============================================ */
nav {
  position: fixed;
  width: 100%;
  top: 0;
  height: var(--nav-height);
  background: linear-gradient(90deg, 
    rgba(255, 255, 255, 0.98) 0%,
    rgba(250, 250, 255, 0.98) 50%,
    rgba(255, 250, 250, 0.98) 100%
  );
  z-index: var(--z-fixed);
  padding: 0 var(--space-lg);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
  transition: all var(--duration-moderate) var(--motion-standard);
  border-bottom: 1px solid rgba(114, 9, 183, 0.08);
}

nav.scrolled {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  background: rgba(255, 255, 255, 0.98);
}

nav.hidden {
  transform: translateY(-100%);
}

.nav-container {
  max-width: var(--container-xxl);
  margin: 0 auto;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.nav-links {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
  list-style: none;
}

.nav-link {
  color: hsl(0, 0%, 20%);
  text-decoration: none;
  font-weight: var(--font-medium);
  transition: color var(--duration-fast) var(--motion-standard);
  position: relative;
}

.nav-link:hover {
  color: var(--accent-purple);
}

.nav-link.active {
  color: var(--accent-purple);
}

.nav-link.active::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--gradient-hero);
}

/* ============================================
   MOBILE NAVIGATION STYLES FOR GLOBAL-V3.CSS
   Add this section to global-v3.css after the existing nav styles
   Ported from global-v2.css with v3 design tokens
   ============================================ */

/* ============================================
   NAVIGATION - COMPLETE MOBILE IMPLEMENTATION
   ============================================ */

/* Navigation Base - Update existing nav in v3 */
nav {
  position: fixed;
  width: 100%;
  top: 0;
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(10px);
  z-index: 1000;
  padding: 1rem 2rem;
  box-shadow: var(--shadow-md);
  transition: all 0.3s ease;
  height: var(--nav-height);
}

nav.scrolled {
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

.nav-container {
  max-width: var(--container-xxl);
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 100%;
}

/* Logo */
.logo {
  display: flex;
  align-items: center;
  gap: 1rem;
  text-decoration: none;
  color: var(--primary-dark, #0a0a0a);
  transition: transform 0.3s ease;
  z-index: 1002;
}

.logo:hover {
  transform: scale(1.05);
}

.logo-icon {
  width: 40px;
  height: 40px;
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

.logo-text {
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: -0.5px;
}

/* Desktop Navigation Links */
.nav-links {
  display: flex;
  gap: 2rem;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: center;
}

.nav-links a {
  text-decoration: none;
  color: var(--text-gray, #6b7280);
  font-weight: 500;
  transition: all 0.3s ease;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  min-height: 44px;
  display: flex;
  align-items: center;
}

.nav-links a:hover,
.nav-links a.active {
  color: var(--primary-dark, #0a0a0a);
  background-color: rgba(0, 0, 0, 0.05);
}

/* Dropdowns */
.dropdown {
  position: relative;
}

.dropdown-toggle::after {
  content: '▾';
  font-size: 0.8rem;
  margin-left: 0.25rem;
  display: inline-block;
  transition: transform 0.3s ease;
}

.dropdown:hover .dropdown-toggle::after {
  transform: rotate(180deg);
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  box-shadow: 0 8px 16px rgba(0,0,0,0.1);
  border-radius: 8px;
  z-index: 1001;
  top: 100%;
  margin-top: 0.5rem;
  padding: 0.5rem 0;
  border: 1px solid var(--border-light, #e5e7eb);
}

.dropdown-content a {
  color: var(--text-gray, #6b7280);
  padding: 0.75rem 1rem;
  text-decoration: none;
  display: block;
  transition: all 0.3s ease;
}

.dropdown-content a:hover {
  background-color: var(--bg-gray, #f5f5f5);
  color: var(--primary-dark, #0a0a0a);
  padding-left: 1.5rem;
}

.dropdown:hover .dropdown-content {
  display: block;
}

/* ============================================
   MOBILE MENU TOGGLE (HAMBURGER)
   ============================================ */
.mobile-menu-toggle {
  display: none;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.5rem;
  flex-direction: column;
  gap: 4px;
  z-index: 1002;
  width: 48px;
  height: 48px;
  align-items: center;
  justify-content: center;
}

.mobile-menu-toggle span {
  display: block;
  width: 25px;
  height: 3px;
  background: var(--accent-purple, #7209b7);
  transition: all 0.3s ease;
  border-radius: 2px;
}

/* Hamburger to X animation */
.mobile-menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.mobile-menu-toggle.active span:nth-child(2) {
  opacity: 0;
}

.mobile-menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(7px, -6px);
}

/* ============================================
   MOBILE MENU OVERLAY
   ============================================ */
.mobile-menu-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 998;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.mobile-menu-overlay.active {
  display: block;
  opacity: 1;
}

/* Prevent body scroll when menu is open */
body.menu-open {
  overflow: hidden;
}

/* ============================================
   MOBILE RESPONSIVE STYLES
   ============================================ */
@media (max-width: 768px) {
  /* Show hamburger button */
  .mobile-menu-toggle {
    display: flex;
  }

  /* Transform nav links into mobile drawer */
  .nav-links {
    position: fixed;
    top: 0;
    right: -100%;
    width: 80%;
    max-width: 300px;
    height: 100vh;
    background: white;
    flex-direction: column;
    padding: 5rem 2rem 2rem;
    gap: 1rem;
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
    transition: right 0.3s ease;
    z-index: 999;
    overflow-y: auto;
    align-items: stretch;
  }

  /* Slide in when active */
  .nav-links.active {
    right: 0;
  }

  /* Mobile link styles */
  .nav-links a {
    padding: 0.75rem;
    border-radius: 8px;
    justify-content: flex-start;
  }

  /* Mobile dropdowns */
  .dropdown-content {
    position: static;
    display: none;
    box-shadow: none;
    background: var(--bg-gray, #f5f5f5);
    margin-left: 1rem;
    margin-top: 0.5rem;
    border-radius: 8px;
    border: none;
    border-left: 3px solid var(--accent-purple, #7209b7);
  }
  
  /* Show dropdown when parent has active class */
  .dropdown.active .dropdown-content {
    display: block !important;
  }
  
  .dropdown-toggle::after {
    margin-left: auto;
    transition: transform 0.3s ease;
  }
  
  .dropdown.active .dropdown-toggle::after {
    transform: rotate(180deg);
  }
  
  /* Adjust content for fixed nav */
  .content-section {
    padding-top: calc(var(--nav-height) + 2rem);
  }
}

/* ============================================
   iOS SAFE AREAS
   ============================================ */
@supports (padding: max(0px)) {
  .nav-links {
    padding-top: max(5rem, env(safe-area-inset-top) + 2rem);
    padding-bottom: max(2rem, env(safe-area-inset-bottom));
  }
}

/* ============================================
   BUTTONS
   ============================================ */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-sm) var(--space-lg);
  border-radius: var(--button-radius);
  font-size: var(--type-sm);
  font-weight: var(--font-semibold);
  text-decoration: none;
  transition: all var(--duration-fast) var(--motion-standard);
  cursor: pointer;
  border: none;
  min-height: 44px;
  position: relative;
  overflow: hidden;
}

.btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.4), transparent);
  opacity: 0;
  transition: opacity var(--duration-fast) var(--motion-smooth);
}

.btn:hover::before {
  opacity: 1;
}

.btn-primary {
  background: var(--gradient-hero);
  color: white;
  box-shadow: 0 4px 14px rgba(114, 9, 183, 0.25);
}

.btn-primary:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: 
    0 10px 30px rgba(114, 9, 183, 0.3),
    0 5px 15px rgba(225, 29, 72, 0.2);
}

.btn-glass {
  background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
  border: 1px solid rgba(114, 9, 183, 0.2);
  color: var(--accent-purple);
}

.btn-glass:hover {
  background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(114, 9, 183, 0.15);
}

/* ============================================
   BACK TO TOP BUTTON
   ============================================ */
.back-to-top {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  width: 48px;
  height: 48px;
  background: var(--gradient-hero);
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  cursor: pointer;
  opacity: 0;
  visibility: hidden;
  transform: translateY(20px);
  transition: all var(--duration-moderate) var(--motion-spring);
  z-index: var(--z-fixed);
  box-shadow: 0 4px 12px rgba(114, 9, 183, 0.3);
}

.back-to-top.visible {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.back-to-top:hover {
  transform: translateY(-4px) scale(1.1);
  box-shadow: 0 8px 24px rgba(114, 9, 183, 0.4);
}

.back-to-top:active {
  transform: translateY(-2px) scale(1.05);
}

@media (max-width: 768px) {
  .back-to-top {
    bottom: calc(var(--mobile-tabs-height) + env(safe-area-inset-bottom, 0) + 1rem);
    right: 1rem;
  }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Skip to main content link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--accent-purple);
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 2000;
  border-radius: 0 0 8px 0;
}

.skip-link:focus {
  top: 0;
}

/* Focus styles */
:focus {
  outline: 2px solid var(--accent-purple);
  outline-offset: 2px;
}

:focus:not(:focus-visible) {
  outline: none;
}

:focus-visible {
  outline: 2px solid var(--accent-purple);
  outline-offset: 2px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

.reduced-motion * {
  animation-duration: 0.01ms !important;
  transition-duration: 0.01ms !important;
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .glass-card,
  .theology-card {
    background: white;
    border: 2px solid black;
  }
  
  .btn {
    border: 2px solid;
  }
}

/* ============================================
   UTILITIES
   ============================================ */

/* Spacing */
.mt-xs { margin-top: var(--space-xs); }
.mt-sm { margin-top: var(--space-sm); }
.mt-md { margin-top: var(--space-md); }
.mt-lg { margin-top: var(--space-lg); }
.mt-xl { margin-top: var(--space-xl); }

.mb-xs { margin-bottom: var(--space-xs); }
.mb-sm { margin-bottom: var(--space-sm); }
.mb-md { margin-bottom: var(--space-md); }
.mb-lg { margin-bottom: var(--space-lg); }
.mb-xl { margin-bottom: var(--space-xl); }

/* Text */
.text-center { text-align: center; }
.text-muted { color: hsla(0, 0%, 20%, 0.6); }
.font-bold { font-weight: var(--font-bold); }

/* Display */
.hidden { display: none !important; }
.block { display: block; }
.flex { display: flex; }
.grid { display: grid; }

/* JavaScript enabled class */
.js-enabled .no-js { display: none; }
.no-js-only { display: none; }
.js-enabled .no-js-only { display: block; }

/* iOS specific fixes */
.is-ios {
  /* Prevent rubber band scrolling */
  overscroll-behavior-y: none;
}

.is-ios .mobile-section-tabs {
  /* Account for iOS bottom bar */
  padding-bottom: max(env(safe-area-inset-bottom, 0), 20px);
}

/* Mobile optimizations */
.is-mobile {
  /* Optimize for touch */
  -webkit-tap-highlight-color: transparent;
}

.is-mobile .btn,
.is-mobile .tag,
.is-mobile .tab-item {
  /* Larger touch targets on mobile */
  min-height: 44px;
  min-width: 44px;
}

/* ============================================
   DARK MODE SUPPORT (OS-driven)
   ============================================ */
@media (prefers-color-scheme: dark) {
  :root {
    /* Adjust surface colors for dark mode */
    --surface-base: #1a1a1a;
    --surface-raised: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
    --surface-overlay: rgba(0, 0, 0, 0.95);
    
    /* Adjust shadows for dark */
    --shadow-color: 271 30% 10%;
  }
  
  body {
    color: hsl(0, 0%, 87%);
    background: linear-gradient(180deg, #0a0a0a 0%, #1a1a1a 100%);
  }
  
  h1, h2, h3, h4, h5, h6 {
    color: hsl(0, 0%, 93%);
  }
  
  .theology-card {
    background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #252525 100%);
    border-color: rgba(255, 255, 255, 0.08);
  }
  
  .panel {
    background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
    border-color: rgba(255, 255, 255, 0.05);
  }
  
  .timeline-item {
    background: linear-gradient(135deg, 
      rgba(30, 30, 30, 0.9) 0%,
      rgba(40, 30, 45, 0.85) 100%
    );
    border-color: rgba(114, 9, 183, 0.2);
  }
  
  .tag {
    background: linear-gradient(135deg, #2a2a2a 0%, #252525 100%);
    border-color: rgba(114, 9, 183, 0.25);
  }
  
  .progress-section-label {
    color: hsl(0, 0%, 80%);
  }
  
  .tab-item {
    color: hsla(0, 0%, 80%, 0.7);
  }
  
  .tab-item.active {
    color: var(--accent-purple-light);
  }
  
  nav {
    background: linear-gradient(90deg, 
      rgba(26, 26, 26, 0.98) 0%,
      rgba(30, 26, 35, 0.98) 50%,
      rgba(35, 26, 30, 0.98) 100%
    );
    border-bottom-color: rgba(114, 9, 183, 0.15);
  }
  
  .mobile-section-tabs {
    background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
    border-top-color: rgba(114, 9, 183, 0.15);
  }
  
  .smart-progress-nav:hover {
    background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
    border-color: rgba(114, 9, 183, 0.15);
  }
  
  .mobile-drawer {
    background: #1a1a1a;
  }
  
  .dropdown-menu {
    background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
  }
  
  .nav-link {
    color: hsl(0, 0%, 80%);
  }
  
  .nav-link:hover {
    color: var(--accent-purple-light);
  }
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */
@media (max-width: 768px) {
  :root {
    --nav-height: 56px;
    --type-scale: 1.2;
  }
  
  .content-section {
    padding: calc(var(--nav-height) + var(--space-lg)) var(--space-md) calc(var(--mobile-tabs-height) + var(--space-xl));
  }
  
  .grid-2,
  .grid-3,
  .grid-4 {
    grid-template-columns: 1fr;
  }
  
  .timeline {
    padding-left: var(--space-lg);
  }
  
  .timeline-item::before {
    left: calc(-1 * var(--space-lg) - 5px);
  }
}

/* ============================================
   PRINT STYLES
   ============================================ */
@media print {
  nav,
  .mobile-section-tabs,
  .smart-progress-nav,
  .back-to-top {
    display: none !important;
  }
  
  .content-section {
    padding: 0;
    max-width: 100%;
  }
  
  .theology-card {
    page-break-inside: avoid;
    box-shadow: none;
    border: 1px solid #ddd;
    background: white;
  }
  
  .animate-on-scroll {
    opacity: 1 !important;
    transform: none !important;
  }
}

/* ============================================
   REMAINING STYLES FROM ORIGINAL
   ============================================ */

/* All other original styles remain unchanged - including:
   - Breadcrumbs
   - Character Type Badge
   - Complexity Indicator
   - Hebrew/Greek Large Text
   - Meta Information
   - Warning/Clarification Box
   - Cross References
   - Question List
   - Tables
   - Bibliography Section
   - Section Divider
*/

/* [Original remaining styles continue as in source file...] */

/* ============================================
   END OF GLOBAL V3 STABLE CSS - OPTIMIZED
   ============================================ */